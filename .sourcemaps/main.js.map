{"version":3,"sources":["../../src/pages/feuillejaune/feuillejaune.ts","../../src/pages/fjactions/fjactions.ts","../../src/components/budget-line/budget-line.ts","../../src/components/fj-line/fj-line.ts","../../src/components/fjcircle/fjcircle.ts","../../src/components/progress-bar/progress-bar.ts","../../src/components/radio-square/radio-square.ts","../../src/pipes/currency.ts","../../src/pipes/histoFilter.ts","../../src/components/gauge/gauge.ts","../../src/components/filter-options/filter-options.ts","../../src/components/reveal-div/reveal-div.ts","../../src/pages/param/param.ts","../../src/pages/fjgen/fjgen.ts","../../src/services/param.service.ts","../../src/services/pdf.service.ts","../../src/pages/ajouter2/ajouter2.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/transaction.service.ts","../../src/pages/tabs/tabs.ts","../../src/pages/home/home.ts","../../src/services/fj.service.ts","../../src/arcana/apis_config.ts","../../src/services/export.service.ts","../../src/pages/fjmgmt/fjmgmt.ts","../../src/pages/fj-details/fj-details.ts","../../src/pages/charts/charts.ts","../../src/pages/budget/budget.ts","../../src/pages/tr-details/tr-details.ts","../../src/services/photo.service.ts","../../src/pages/fj-observations/fj-observations.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/arcana/firebase_config.ts","../../src/app/app.component.ts","../../node_modules/moment/locale ^/.*$","../../src/services/currency.service.ts","../../buffer (ignored)","../../crypto (ignored)","webpack:///crypto (ignored)?20ce"],"names":[],"mappings":"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AAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAVU,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;cAIgF;OAHrE,KAAK,CAWjB;IAAD,CAAC;AAAA;SAXY,KAAK,2B;;;;;;;ACXlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\n\nimport { TransactionService } from '../../services/transaction.service';\nimport { ParamService } from '../../services/param.service';\nimport { PdfService } from '../../services/pdf.service';\n\nimport { ParamPage } from '../param/param';\n\nimport moment from 'moment';\nimport _ from 'lodash';\n\n\n\n@Component({\n  selector: 'page-feuillejaune',\n  templateUrl: 'feuillejaune.html',\n})\nexport class FeuillejaunePage {\n  private tr_engine_ready: boolean = false;\n  private pdf_export_ongoing: boolean = false;\n\n  public transactions = [];\n  public pdf_name = \"FeuilleJaune.pdf\";\n  public pdf_url = \"\";\n  public curr_month = moment().format(\"YYYY-MM-DD\");\n  public last_months = [];\n  public fjdata;\n  public fjdata_test;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private paramService: ParamService,\n    private trService: TransactionService,\n    private toastCtrl: ToastController,\n    private pdfService: PdfService) {\n\n    this.pdfService.rendereGrazie();\n    this.initFjdata();\n\n    // on load la db des transactions\n    this.reload();\n\n    // on récupère la liste des last months\n    for (let i = 0; i < 8; i++) {\n      let mydate = moment(this.curr_month).subtract(i, 'months');\n      this.last_months.push({ 'date': mydate.format(\"YYYY-MM-DD\"), 'label': mydate.format('MMMM YYYY') })\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('FeuillejaunePage : Hosanna nell\\'alto dei cieli !');\n  }\n\n  presentToast(msg, temps=2000) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: temps\n    });\n    toast.present();\n  }\n\n  showParamPage() {\n    this.navCtrl.push(ParamPage);\n  }\n\n  createFJ() {\n    this.pdf_export_ongoing = true;\n    // on complète fjdata avec les différents totaux\n    this.fjdata.soustotal1_banque = this.soustotal1('banque');\n    this.fjdata.soustotal1_caisse = this.soustotal1('caisse');\n    this.fjdata.soustotal_I_banque = this.soustotal_I('banque');\n    this.fjdata.soustotal_I_caisse = this.soustotal_I('caisse');\n    this.fjdata.soustotal_II_banque = this.soustotal_II('banque');\n    this.fjdata.soustotal_II_caisse = this.soustotal_II('caisse');\n    this.fjdata.soustotal_III_banque = this.soustotal_III('banque');\n    this.fjdata.soustotal_III_caisse = this.soustotal_III('caisse');\n    this.fjdata.soustotal_IV_banque = this.soustotal_IV('banque');\n    this.fjdata.soustotal_IV_caisse = this.soustotal_IV('caisse');\n    this.fjdata.soustotal_V_banque = this.soustotal_V('banque');\n    this.fjdata.soustotal_V_caisse = this.soustotal_V('caisse');\n    this.fjdata.total_banque = this.total('banque');\n    this.fjdata.total_caisse = this.total('caisse');\n    this.fjdata.total_bc = (parseFloat(this.fjdata.total_banque) + parseFloat(this.fjdata.total_caisse)).toFixed(2);\n    this.fjdata.solde_banque = this.solde('banque');\n    this.fjdata.solde_caisse = this.solde(\"caisse\");\n    this.fjdata.solde_bc = (parseFloat(this.fjdata.solde_banque) + parseFloat(this.fjdata.solde_caisse)).toFixed(2);\n\n    // on prépare les options\n    let opt = {\n      'personne': this.paramService.personne,\n      'maison': this.paramService.maison,\n      'curr_month': this.curr_month,\n      'filename': this.pdf_name\n    }\n\n    if (!opt.personne) {\n      this.presentToast(\"Il faut spécifier une personne dans les paramètres\");\n      this.pdf_export_ongoing = false;\n      return\n    } else if (!opt.maison) {\n      this.presentToast(\"Il faut spécifier une maison dans les paramètres\");\n      this.pdf_export_ongoing = false;\n      return\n    }\n\n    /* this.fjService.createFJ(this.fjdata, opt).then(res => {\n      this.pdf_export_ongoing = false;\n      console.log(res)\n    }).catch(err => {\n      this.pdf_export_ongoing = false;\n      console.log(err)\n    }); */\n  }\n\n  reload() {\n    this.tr_engine_ready = false;\n    this.trService.getAll().then(data => {\n      if (typeof data == 'object' && data.length) {\n        console.log(\"We got the transaction db, lodato sia il Signore !\")\n        this.transactions = data;\n        console.log(\"transactions : \", this.transactions);\n        this.computeAmounts()\n      } else {\n        console.log(\"Le format de la base de transactions n'est pas bon ou la base est vide, on utilise du coup une base vide\");\n        this.transactions = [];\n      }\n      this.tr_engine_ready = true;\n    }).catch(err => {\n      console.log(err);\n      console.log(\"On utilise du coup une base vide\");\n      this.transactions = [];\n      this.tr_engine_ready = true;\n    })\n  }\n\n  initFjdata() {\n    let last_fjdata = (this.fjdata) ? JSON.parse(JSON.stringify(this.fjdata)) : undefined;\n    let report_obs = (last_fjdata && last_fjdata.report_mois_precedent && last_fjdata.report_mois_precedent.observations) ? last_fjdata.report_mois_precedent.observations : '';\n    this.fjdata = { 'report_mois_precedent': { 'label': 'Report du mois précédent', 'banque': 0, 'caisse': 0, 'observations': report_obs } }\n    this.fjdata_test = { 'report_mois_precedent': { 'label': 'Report du mois précédent', 'banque': 'report_mois_prec_B', 'caisse': 'report_mois_prec_C', 'observations': 'report_mois_prec_O' } }\n    this.paramService.categories.forEach(el => {\n      let rep_obs = (last_fjdata && last_fjdata[el.id] && last_fjdata[el.id].observations) ? last_fjdata[el.id].observations : \"\";\n      this.fjdata[el.id] = { 'label': el.label, 'banque': 0.0, 'caisse': 0.0, 'observations': rep_obs }\n      this.fjdata_test[el.id] = { 'label': el.label, 'banque': el.id + '_B', 'caisse': el.id + '_C', 'observations': el.id + '_O' }\n    });\n    this.paramService.categories_in.forEach(el => {\n      let rep_obs = (last_fjdata && last_fjdata[el.id] && last_fjdata[el.id].observations) ? last_fjdata[el.id].observations : \"\";\n      this.fjdata[el.id] = { 'label': el.label, 'banque': 0.0, 'caisse': 0.0, 'observations': rep_obs }\n      this.fjdata_test[el.id] = { 'label': el.label, 'banque': el.id + '_B', 'caisse': el.id + '_C', 'observations': el.id + '_O' }\n    });\n\n    // console.log(this.fjdata);\n  }\n\n  computeAmounts() {\n    // on va calculer pour le mois courant les dépenses/revenus\n\n    // d'abord on trouve les dates limites du mois\n    let date_start = moment(this.curr_month).startOf('month');\n    let date_end = moment(this.curr_month).endOf('month');\n\n    // ensuite on remet fjdata à zero\n    this.initFjdata();\n\n    // maintenant on peut calculer les montants\n    for (let i = 0; i < this.transactions.length; i++) {\n      let tr = this.transactions[i];\n      if (moment(tr.date) >= date_start && moment(tr.date) <= date_end) {\n        if (typeof tr.montant == 'number') this.fjdata[tr.category][tr.moyen] += tr.montant;\n        else {\n          let res = (tr.montant).toString().match(/\\-?\\s*[0-9]+[\\,\\.]?[0-9]*/g);\n          if (res && res[0] == tr.montant) {\n            this.fjdata[tr.category][tr.moyen] += parseFloat(tr.montant.replace(',', '.').replace(/\\s/g, ''));\n          } else {\n            console.log(\"string '\" + tr.montant + \"' for transaction \" + tr._id + \" (\" + tr.category + \") is not a valid amount\")\n          }\n        }\n      }\n    }\n    console.log(this.fjdata);\n  }\n\n  soustotal1(banque_ou_caisse) {\n    return this.fjdata.salaire[banque_ou_caisse] + this.fjdata.allocation[banque_ou_caisse] + this.fjdata.don[banque_ou_caisse];\n  }\n  soustotal_I(b_or_c) {\n    let total = this.soustotal(b_or_c, ['salaire', 'allocation', 'don', 'dime', 'autre', 'remboursement_sante', 'remboursement_pro',\n      'remboursement_autre', 'report_mois_precedent', 'avance', 'epargne', 'transfert']);\n    // pour le cas de caisse, il ne faut pas compter this.fjdata.transfert.caisse, qui n'est pas défini, il faut compter -this.fjdata.transfert.banque\n    if (b_or_c == 'caisse') return (parseFloat(total) - this.fjdata.transfert.banque).toString();\n    return total;\n  }\n  soustotal_II(b_or_c) {\n    return this.soustotal(b_or_c, this.paramService.liste_maison)\n  }\n  soustotal_III(b_or_c) {\n    if (!this.paramService.liste_viecourante) this.paramService.liste_viecourante = _.map(_.filter(this.paramService.categories, ['type', 'vie courante']), 'id');\n    return this.soustotal(b_or_c, this.paramService.liste_viecourante)\n  }\n  soustotal_IV(b_or_c) {\n    if (!this.paramService.liste_transport) this.paramService.liste_transport = _.map(_.filter(this.paramService.categories, ['type', 'transport']), 'id');\n    return this.soustotal(b_or_c, this.paramService.liste_transport)\n  }\n  soustotal_V(b_or_c) {\n    // if (!this.liste_secretariat) this.liste_secretariat = _.map(_.filter(this.transactionService.categories, ['type', 'secretariat']), 'id');\n    return this.soustotal(b_or_c, this.paramService.liste_secretariat)\n  }\n  total(b_or_c) {\n    return this.soustotal(b_or_c, _.map(this.paramService.categories, 'id'))\n  }\n  soustotal(b_or_c, liste) {\n    var soustotal = 0.0;\n    for (let i = 0; i < liste.length; i++) {\n      if (this.fjdata[liste[i]][b_or_c] == \"\") this.fjdata[liste[i]][b_or_c] = 0;\n      soustotal += parseFloat(this.fjdata[liste[i]][b_or_c])\n    }\n    return soustotal.toFixed(2);\n  }\n  solde(b_or_c) {\n    return (parseFloat(this.soustotal_I(b_or_c)) - parseFloat(this.total(b_or_c))).toFixed(2)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feuillejaune/feuillejaune.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController, ToastController } from 'ionic-angular';\n\nimport { FjService } from '../../services/fj.service';\n\nimport { FjgenPage } from '../fjgen/fjgen';\n\nimport moment from 'moment';\n\n\n@Component({\n  selector: 'page-fjactions',\n  templateUrl: 'fjactions.html',\n})\nexport class FjactionsPage {\n  private options = [{title: \"Editer\", val: \"editer\", \"icon\": \"fa-pencil-square-o\"},\n                      {title: \"Partager le pdf\", val: \"pdf\", \"icon\": \"fa-share\"},\n                      {title: \"Supprimer\", val: \"suppr\", \"icon\": \"fa-trash\"}];\n  private fj;\n  private mois:string = \"\";\n  private loading:boolean = false;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private toastCtrl: ToastController,\n              private alertCtrl: AlertController,\n              private fjService: FjService) {\n    this.fj = navParams.get(\"fj\");\n    console.log(this.fj);\n    this.mois = moment(this.fj.month).format(\"MMMM YYYY\");\n  }\n\n  ionViewDidLoad() {\n    console.log('FjactionsPage: Lodato sia il Signore, dio dell\\'universo !!!');\n  }\n\n  presentToast(msg, temps = 2000) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: temps\n    });\n    toast.present();\n  }\n\n  handleClick(o) {\n    window.event.stopPropagation();\n    if (o.val === \"editer\") {\n      this.navCtrl.pop();\n      this.navCtrl.push(FjgenPage, {\"curr_fj\": this.fj})\n    } else if (o.val === \"pdf\") {\n      this.loading = true\n      this.fjService.shareFJ(this.fj.month).then(res => {\n        this.presentToast(\"Feuille Jaune partagée ! Béni soit le Seigneur, Dieu de l'univers !\");\n        this.navCtrl.pop();\n        this.loading = false\n      }).catch(err => {\n        this.presentToast(\"Impossible de partager la feuille jaune :(\");\n        console.log(err);\n        this.navCtrl.pop();\n        this.loading = false\n      });\n    } else if (o.val === \"suppr\") {\n      this.supprFJ();\n    } else {\n      alert(\"L'option choisie n'est pas reconnue sorry :( Prie le Seigneur pour que j'apprenne à mieux coder :)\")\n    }\n  }\n\n  supprFJ() {\n    let alert = this.alertCtrl.create({\n      title: 'Supprimer',\n      message: 'Veux-tu vraiment supprimer la feuille jaune de ' + this.mois + ' ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('Suppression de la feuille jaune annulée.');\n          }\n        },\n        {\n          text: 'Supprimer',\n          handler: () => {\n            console.log('Suppression de la feuille jaune');\n            this.supprFJcore();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  supprFJcore() {\n    this.loading = true;\n    this.fjService.deleteFJ([this.fj]).then(res => {\n      console.log(\"Delete completed !\", res);\n      this.navCtrl.pop();\n      this.loading = false\n    }).catch(err => {\n      console.log(\"Error while deleting :(\", err);\n      this.navCtrl.pop();\n      this.loading = false\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/fjactions/fjactions.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { AlertController } from 'ionic-angular';\nimport { TransactionService } from '../../services/transaction.service';\nimport { ParamService } from '../../services/param.service';\nimport moment from 'moment';\nimport _ from 'lodash';\n\n\n\n\n@Component({\n  selector: 'budget-line',\n  templateUrl: 'budget-line.html'\n})\nexport class BudgetLineComponent {\n\n  private cool_date;\n  private category_icon;\n  private category_domain;\n  private category_pretty;\n  private default_currency: string;\n\n  @Input() tr;\n  @Output('onDeleted') onDeleted: EventEmitter<string> = new EventEmitter<string>();\n\n  constructor(public alertCtrl: AlertController,\n              private transactionService: TransactionService,\n              private paramService: ParamService) {\n    moment.locale('fr');\n    this.default_currency = (paramService.currency) ? paramService.currency : 'EUR';\n    // console.log('BudgetLineComponent : Benedetto sei Signore, Dio dell\\'universo');\n  }\n\n  ngOnChanges(...args: any[]) {\n    let curr_tr = args[0].tr.currentValue;\n    // console.log(curr_tr);\n    this.cool_date = this.getCoolDate(curr_tr.date);\n    let cat_list = (curr_tr.type == 'out') ? this.paramService.categories : this.paramService.categories_in ;\n    let el = _.find(cat_list, {'id': curr_tr.category});\n    this.category_icon = ('icon' in curr_tr) ? curr_tr.icon : this.transactionService.smartIcon(curr_tr);\n    // let smart_icon = this.smartIcon(curr_tr);\n    // if (smart_icon.length) this.category_icon = smart_icon;\n    this.category_domain = (el.type) ? el.type.replace(\" \", \"\"): \"\";\n\n    this.category_pretty = el.label;\n    if (curr_tr.type == 'depot') {\n      this.category_pretty = \"Dépôt à la banque\";\n      this.category_domain = \"depot\";\n      // this.category_icon = \"fa-angle-double-left\";\n    } else if (curr_tr.type == 'retrait') {\n      this.category_pretty = \"Retrait d'argent liquide\";\n      this.category_domain = \"retrait\";\n      // this.category_icon = \"fa-angle-double-right\";\n    }\n  }\n\n  getCoolDate(d) {\n    let moment_d = moment(d);\n    // let res = moment().diff(moment_d, 'days').humanize();\n    let res = moment_d.fromNow();\n    return res;\n  }\n\n  delete(e, transaction) {\n    e.stopPropagation();\n    let alert = this.alertCtrl.create({\n      title: 'Supprimer',\n      message: 'Veux-tu vraiment supprimer la transaction ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('Suppression de la transaction annulée.');\n          }\n        },\n        {\n          text: 'Supprimer',\n          handler: () => {\n            this.deleteCore(transaction)\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  deleteCore(transaction) {\n    console.log(\"Deleting...\", transaction);\n    this.transactionService.delete(transaction)\n      .then(d => {\n        this.onDeleted.emit(\"Transaction has been deleted ! Grazie Signore !\")\n      })\n      .catch(err => {\n        console.log(err);\n        this.onDeleted.emit(JSON.stringify(err))\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/budget-line/budget-line.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { AlertController, ModalController } from 'ionic-angular';\nimport { FjObservationsPage } from '../../pages/fj-observations/fj-observations';\n\nimport { ParamService } from '../../services/param.service';\n// import { CurrencyPipe } from '../../pipes/currency';\n\n\n@Component({\n  selector: 'fj-line',\n  templateUrl: 'fj-line.html'\n})\nexport class FjLineComponent {\n\n  banqueValue: string;\n  caisseValue: string;\n  label: string;\n\n  @Input('info') info:Object;\n  @Input('important') important: boolean;\n  @Input('line') line_num;\n  @Input('category') category: string;\n  @Input('banque') banque: string;\n  @Output() banqueChange: EventEmitter<string> = new EventEmitter<string>();\n  @Input('caisse') caisse: string;\n  @Output() caisseChange: EventEmitter<string> = new EventEmitter<string>();\n  @Input() observations: string;\n  @Output() observationsChange: EventEmitter<string> = new EventEmitter<string>();\n\n  constructor(public alertCtrl: AlertController, \n              private modalCtrl: ModalController,\n              private paramService: ParamService) {\n  }\n\n  ngOnInit() {\n    this.label = this.paramService.getCatLabel(this.category)\n    if (!this.label) this.label = this.category\n    //console.log('important', this.important, typeof this.important)\n  }\n\n  isMontantNonNul(m) {\n    return (typeof m === \"number\" && m != 0 || typeof m === \"string\" && !isNaN(parseFloat(m)))\n  }\n\n  parseDecimal(n) {\n    if (n === null) n = 0;\n    return n\n  }\n\n  addComment(title) {\n    if (!this.info) {\n      console.log('les infos nécessaires n\\'ont pas été récupérées ! : ', this.info)\n      return\n    }\n    console.log('INFO', this.info)\n    let opt = { \n      title, \n      category: this.category,\n      currency: this.info['currency'],\n      month: this.info['month'], \n      comments: this.observations \n    }\n    let modalObservations = this.modalCtrl.create(FjObservationsPage, opt);\n    modalObservations.onDidDismiss(data => {\n      console.log(\"modal data = \", data);\n      if (data !== undefined && data !== null) this.observationsChange.emit(data)\n    });\n    modalObservations.present();\n  }\n\n  addComment2(titre) {\n    let prompt = this.alertCtrl.create({\n      title: titre,\n      message: \"\",\n      inputs: [\n        {\n          name: 'observations',\n          placeholder: 'Observations',\n          value: this.observations\n        },\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          handler: data => {\n            console.log('Ô mon âme bénis le Seigneur');\n          }\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            console.log('Saved clicked', data);\n            this.observationsChange.emit(data.observations)\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/fj-line/fj-line.ts","import { Component, Input, Output, EventEmitter, ElementRef } from '@angular/core';\nimport { Gesture } from \"ionic-angular/gestures/gesture\";\n\nimport { FjService } from '../../services/fj.service';\n\nimport moment from 'moment';\n\n/**\n * Generated class for the FjcircleComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'fjcircle',\n  templateUrl: 'fjcircle.html'\n})\nexport class FjcircleComponent {\n\n  @Input() fj;\n  private mymonth: string;\n  private processing_ongoing: boolean = false;\n\n  el: HTMLElement;\n  pressGesture: Gesture;\n  @Output('long-press') onPressRelease: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fjService: FjService, el: ElementRef) {\n    // console.log('Hello FjcircleComponent Component');\n    moment.locale('fr');\n    this.el = el.nativeElement;\n  }\n\n  ngOnChanges(...args: any[]) {\n    let curr_fj = args[0].fj.currentValue;\n    this.mymonth = moment(curr_fj.month).format(\"MMM YYYY\");\n  }\n\n  ngOnInit() {\n    this.pressGesture = new Gesture(this.el);\n    this.pressGesture.listen();\n    this.pressGesture.on('press', (event) => {\n      this.onPressRelease.emit('released');\n    });\n  }\n\n  ngOnDestroy() {\n    this.pressGesture.destroy();\n  }\n\n  shareFJ(month) {\n    this.processing_ongoing = true;\n    this.fjService.shareFJ(month).then(_ => {\n      this.processing_ongoing = false;\n    }).catch(err => {\n      console.log(err); // TODO\n      this.processing_ongoing = false;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/fjcircle/fjcircle.ts","import { Component, Input } from '@angular/core';\n\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.html'\n})\nexport class ProgressBarComponent {\n\n  @Input('progress') progress;\n\n  constructor() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n  selector: 'radio-square',\n  templateUrl: 'radio-square.html'\n})\nexport class RadioSquareComponent {\n\n  public optionsValue: any[];\n  public ui_fit:boolean = false;\n\n  @Input() options;\n  @Input('choice') choice:string;\n  @Output() choiceChange: EventEmitter<string> = new EventEmitter<string>();\n\n  constructor() {\n\n  }\n\n  ngOnChanges(...args: any[]) {\n    this.optionsValue = args[0].options;\n    this.ui_fit = (this.options.length > 4);\n  }\n\n  handleChange(val) {\n    this.choice = val;\n    this.choiceChange.emit(this.choice);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/radio-square/radio-square.ts","import {Pipe} from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'currency'\r\n})\r\nexport class CurrencyPipe {\r\n  transform(value, args) {\r\n    let myval;\r\n    if (typeof value == 'string') {\r\n      let nval = parseFloat(value);\r\n      myval = (nval == 0) ? \"0\" : nval.toFixed(2).toString();\r\n    } else {\r\n      myval = (value == 0) ? \"0\" : (value).toFixed(2).toString();\r\n    }\r\n    return myval;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/currency.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'histoFilter',\r\n  pure: false\r\n})\r\nexport class HistoFilter implements PipeTransform {\r\n  private diacriticsMap: Object = {};\r\n  private pre:string = \"@\";\r\n\r\n  constructor() {\r\n    this.initDiacritics();\r\n  }\r\n\r\n  transform(items: any[], filter: string): any {\r\n    if (!items || !filter) {\r\n      return items;\r\n    }\r\n\r\n    // on gère le cas spécial des filtres typés\n    let command = filter.match(new RegExp(\"\\\\\" + this.pre + \"([^\\\\s]+)\\\\s\"));\r\n    if (command && command.length > 1 && command[1]) {\r\n      let cmd_arg = filter.substring(this.pre.length + command[1].length + 1).trim();\r\n      switch (command[1]) {\r\n\r\n        case \"moyen\":\r\n          cmd_arg = (cmd_arg == 'liquide') ? 'caisse' : cmd_arg;\r\n          return items.filter((item, i) => {\r\n            return item.moyen == cmd_arg\r\n          });\r\n\r\n        default:\r\n          console.log(\"Impossible de trouver la commande \" + filter);\r\n          return items;\r\n      }\r\n    }\r\n\r\n    // on normalise le filtre\r\n    let myfilter = this.normalize(filter);\r\n\r\n    // filter items array, items which match and return true will be kept, false will be filtered out\r\n    return items.filter((item, i) => {\r\n      let b = false;\r\n      let norm_name = this.normalize(item.name);\r\n      let norm_comment = this.normalize(item.comment);\r\n      b = b || norm_name.indexOf(myfilter) > -1\r\n            || item.date.indexOf(myfilter) > -1\r\n            || item.category.indexOf(myfilter) > -1\r\n            || norm_comment.indexOf(myfilter) > -1\r\n            || item.montant.toString().indexOf(myfilter) > -1;\r\n      return b\r\n    });\r\n  }\r\n\r\n  normalize(s) {\r\n    return this.removeDiacritics(s).toLowerCase();\r\n  }\r\n\r\n  initDiacritics() {\r\n    let defaultDiacriticsRemovalMap = [\r\n      { 'base': 'A', 'letters': '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F' },\r\n      { 'base': 'AA', 'letters': '\\uA732' },\r\n      { 'base': 'AE', 'letters': '\\u00C6\\u01FC\\u01E2' },\r\n      { 'base': 'AO', 'letters': '\\uA734' },\r\n      { 'base': 'AU', 'letters': '\\uA736' },\r\n      { 'base': 'AV', 'letters': '\\uA738\\uA73A' },\r\n      { 'base': 'AY', 'letters': '\\uA73C' },\r\n      { 'base': 'B', 'letters': '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181' },\r\n      { 'base': 'C', 'letters': '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E' },\r\n      { 'base': 'D', 'letters': '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\u00D0' },\r\n      { 'base': 'DZ', 'letters': '\\u01F1\\u01C4' },\r\n      { 'base': 'Dz', 'letters': '\\u01F2\\u01C5' },\r\n      { 'base': 'E', 'letters': '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E' },\r\n      { 'base': 'F', 'letters': '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B' },\r\n      { 'base': 'G', 'letters': '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E' },\r\n      { 'base': 'H', 'letters': '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D' },\r\n      { 'base': 'I', 'letters': '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197' },\r\n      { 'base': 'J', 'letters': '\\u004A\\u24BF\\uFF2A\\u0134\\u0248' },\r\n      { 'base': 'K', 'letters': '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2' },\r\n      { 'base': 'L', 'letters': '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780' },\r\n      { 'base': 'LJ', 'letters': '\\u01C7' },\r\n      { 'base': 'Lj', 'letters': '\\u01C8' },\r\n      { 'base': 'M', 'letters': '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C' },\r\n      { 'base': 'N', 'letters': '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4' },\r\n      { 'base': 'NJ', 'letters': '\\u01CA' },\r\n      { 'base': 'Nj', 'letters': '\\u01CB' },\r\n      { 'base': 'O', 'letters': '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C' },\r\n      { 'base': 'OI', 'letters': '\\u01A2' },\r\n      { 'base': 'OO', 'letters': '\\uA74E' },\r\n      { 'base': 'OU', 'letters': '\\u0222' },\r\n      { 'base': 'OE', 'letters': '\\u008C\\u0152' },\r\n      { 'base': 'oe', 'letters': '\\u009C\\u0153' },\r\n      { 'base': 'P', 'letters': '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754' },\r\n      { 'base': 'Q', 'letters': '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A' },\r\n      { 'base': 'R', 'letters': '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782' },\r\n      { 'base': 'S', 'letters': '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784' },\r\n      { 'base': 'T', 'letters': '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786' },\r\n      { 'base': 'TZ', 'letters': '\\uA728' },\r\n      { 'base': 'U', 'letters': '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244' },\r\n      { 'base': 'V', 'letters': '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245' },\r\n      { 'base': 'VY', 'letters': '\\uA760' },\r\n      { 'base': 'W', 'letters': '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72' },\r\n      { 'base': 'X', 'letters': '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C' },\r\n      { 'base': 'Y', 'letters': '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE' },\r\n      { 'base': 'Z', 'letters': '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762' },\r\n      { 'base': 'a', 'letters': '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250' },\r\n      { 'base': 'aa', 'letters': '\\uA733' },\r\n      { 'base': 'ae', 'letters': '\\u00E6\\u01FD\\u01E3' },\r\n      { 'base': 'ao', 'letters': '\\uA735' },\r\n      { 'base': 'au', 'letters': '\\uA737' },\r\n      { 'base': 'av', 'letters': '\\uA739\\uA73B' },\r\n      { 'base': 'ay', 'letters': '\\uA73D' },\r\n      { 'base': 'b', 'letters': '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253' },\r\n      { 'base': 'c', 'letters': '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184' },\r\n      { 'base': 'd', 'letters': '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A' },\r\n      { 'base': 'dz', 'letters': '\\u01F3\\u01C6' },\r\n      { 'base': 'e', 'letters': '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD' },\r\n      { 'base': 'f', 'letters': '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C' },\r\n      { 'base': 'g', 'letters': '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F' },\r\n      { 'base': 'h', 'letters': '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265' },\r\n      { 'base': 'hv', 'letters': '\\u0195' },\r\n      { 'base': 'i', 'letters': '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131' },\r\n      { 'base': 'j', 'letters': '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249' },\r\n      { 'base': 'k', 'letters': '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3' },\r\n      { 'base': 'l', 'letters': '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747' },\r\n      { 'base': 'lj', 'letters': '\\u01C9' },\r\n      { 'base': 'm', 'letters': '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F' },\r\n      { 'base': 'n', 'letters': '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5' },\r\n      { 'base': 'nj', 'letters': '\\u01CC' },\r\n      { 'base': 'o', 'letters': '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275' },\r\n      { 'base': 'oi', 'letters': '\\u01A3' },\r\n      { 'base': 'ou', 'letters': '\\u0223' },\r\n      { 'base': 'oo', 'letters': '\\uA74F' },\r\n      { 'base': 'p', 'letters': '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755' },\r\n      { 'base': 'q', 'letters': '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759' },\r\n      { 'base': 'r', 'letters': '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783' },\r\n      { 'base': 's', 'letters': '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B' },\r\n      { 'base': 't', 'letters': '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787' },\r\n      { 'base': 'tz', 'letters': '\\uA729' },\r\n      { 'base': 'u', 'letters': '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289' },\r\n      { 'base': 'v', 'letters': '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C' },\r\n      { 'base': 'vy', 'letters': '\\uA761' },\r\n      { 'base': 'w', 'letters': '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73' },\r\n      { 'base': 'x', 'letters': '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D' },\r\n      { 'base': 'y', 'letters': '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF' },\r\n      { 'base': 'z', 'letters': '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763' }\r\n    ];\r\n\r\n    this.diacriticsMap = {};\r\n    for (var i = 0; i < defaultDiacriticsRemovalMap.length; i++) {\r\n      var letters = defaultDiacriticsRemovalMap[i].letters;\r\n      for (var j = 0; j < letters.length; j++) {\r\n        this.diacriticsMap[letters[j]] = defaultDiacriticsRemovalMap[i].base;\r\n      }\r\n    }\r\n  }\r\n\r\n  removeDiacritics(str) {\r\n    if (!str) return str;\r\n    // si c'est une date\r\n    let res_date = str.match(/([0-9]+[\\-\\/\\s])?[0-9]{2}[\\-\\/\\s][0-9]+/);\r\n    if (res_date) {\r\n      res_date = str.match(/([0-9]{2})[\\-\\/\\s]([0-9]+)/);\r\n      if (res_date && res_date[0] == str) {\r\n        // MM-YY ou MM-YYYY\r\n        let mois = res_date[1];\r\n        let an = (res_date[2].length > 2) ? res_date[2] : \"20\" + res_date[2];\r\n        return an + \"-\" + mois;\r\n      } else {\r\n        // MM-DD-YY ou MM-DD-YYYY\r\n        res_date = str.match(/([0-9]{2})[\\-\\/\\s]([0-9]{2})[\\-\\/\\s]([0-9]+)/);\r\n        if (res_date) {\r\n          let jour = res_date[1];\r\n          let mois = res_date[2];\r\n          let an = (res_date[3].length > 2) ? res_date[3] : \"20\" + res_date[3];\r\n          return an + '-' + mois + '-' + jour;\r\n        } else {\r\n          return str\r\n        }\r\n      }\r\n    } else {\r\n      // sinon\r\n      return str.replace(/[^\\u0000-\\u007E]/g, (a) => {\r\n        return this.diacriticsMap[a] || a;\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/histoFilter.ts","import { Component, Input } from '@angular/core';\nimport { AlertController } from 'ionic-angular';\n\n\n\n@Component({\n  selector: 'gauge',\n  templateUrl: 'gauge.html'\n})\nexport class GaugeComponent {\n\n  @Input('level') level;\n  @Input('text') text;\n  @Input('min') min;\n  @Input('max') max;\n\n  private strokeDash: string;\n\n  constructor(private alertCtrl: AlertController) {\n\n  }\n\n  ngOnChanges(...args: any[]) {\n    if (args[0].min) this.min = args[0].min.currentValue;\n    if (args[0].max) this.max = args[0].max.currentValue;\n    if (args[0].level && args[0].level.currentValue) this.level = args[0].level.currentValue;\n    this.updateGauge();\n  }\n\n  updateGauge() {\n    // on détermine le max et min de la gauge\n    let mini = parseInt(this.min);\n    let maxi = parseInt(this.max);\n\n    if (!isNaN(mini) && !isNaN(maxi)) {\n      let v = Math.max(0, (parseInt(this.level) - mini) * 230 / (maxi - mini));\n      v = Math.min(230, v);\n      this.strokeDash = v.toString() + \", 500\";\n    } else {\n      console.log(\"Impossible de parser mini=\" + this.min + \" et maxi=\" + this.max);\n    }\n  }\n\n  changeLimits() {\n    // permet de modifier this.max\n    let prompt = this.alertCtrl.create({\n      title: \"Changer le maximum de la jauge\",\n      message: \"\",\n      inputs: [\n        {\n          name: 'max',\n          placeholder: this.max,\n          value: this.max\n        },\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          handler: data => {\n            console.log('Ô mon âme bénis le Seigneur');\n          }\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            console.log('Changing maximum...', data);\n            let newmax = parseInt(data.max);\n            if (!isNaN(newmax)) this.max = newmax;\n            this.updateGauge();\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/gauge/gauge.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n  selector: 'filter-options',\n  templateUrl: 'filter-options.html'\n})\nexport class FilterOptionsComponent {\n\n  @Input('title') title;\n  @Input() options;\n  @Input('selected') selected;\n  @Output() selectedChange: EventEmitter<string> = new EventEmitter<string>();\n\n  constructor() {\n\n  }\n\n  ngOnChanges(...args: any[]) {\n    // console.log(\"Args\", args);\n    // console.log(this.options)\n  }\n\n  handleChange(val) {\n    if (!this.selected) this.selected = [];\n    if (this.selected.indexOf(val) > -1)\n      this.selected = this.selected.filter(item => item != val);\n    else\n      this.selected.push(val);\n    // console.log(this.selected)\n    this.selectedChange.emit(this.selected);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/filter-options/filter-options.ts","import { Component, Input } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\n\n\n@Component({\n  selector: 'reveal-div',\n  templateUrl: 'reveal-div.html',\n  animations: [trigger('contentState', [\n        state('false', style({height:'0px', 'overflow': 'hidden'})),\n        state('true', style({height:'*', 'overflow': 'hidden'})),\n        transition('false => true', animate('500ms ease-in-out')),\n        transition('true => false', animate('500ms ease-in-out'))\n    ])]\n})\nexport class RevealDivComponent {\n\n  private contentActive:string = \"false\";\n  private show:boolean = false;\n\n  @Input('title') title:string;\n\n  constructor() {\n\n  }\n\n  toggle() {\n    this.show = !this.show;\n    this.contentActive = (this.contentActive == \"true\") ? \"false\" : \"true\";\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/reveal-div/reveal-div.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, Platform, ToastController, AlertController } from 'ionic-angular';\nimport { AppVersion } from '@ionic-native/app-version';\n\nimport { ParamService } from '../../services/param.service';\nimport { TransactionService } from '../../services/transaction.service';\nimport { FjService } from '../../services/fj.service';\nimport { ExportService } from '../../services/export.service';\n\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Observable';\n\n@Component({\n  selector: 'page-param',\n  templateUrl: 'param.html',\n})\nexport class ParamPage {\n  private version:string = \"0.11.0\";\n  private loading:boolean = false;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private afs: AngularFirestore,\n    public toastCtrl: ToastController,\n    public alertCtrl: AlertController,\n    public paramService: ParamService,\n    public fjService: FjService,\n    public trService: TransactionService,\n    public appVersion: AppVersion,\n    public exportService: ExportService,\n    public ptfm: Platform) {\n      this.appVersion.getVersionNumber().then(v => {\n        console.log(\"AppVersion\", v);\n        this.version = v;\n      }).catch(err => {\n        console.log(\"Impossible de récupérer le num de version de l'app: \", err)\n      });\n  }\n\n  ionViewDidLoad() {\n    document.getElementById('file_picker_browser').addEventListener('change', this.import_core_browser.bind(this), false);\n    console.log('ParamPage : Benedetto sia il tuo nome santissimo Signore');\n    this.appVersion.getVersionNumber().then(v => {\n      console.log(\"App Version\", v);\n      this.version = v;\n    }).catch(err => {\n      console.log(\"Impossible de récupérer le num de version de l'app: \", err)\n    });\n  }\n\n  showToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  enregistrer() {\n    this.paramService.setPersonne(this.paramService.personne).catch(err => console.log(\"Error setting personne : \", err));\n    this.paramService.setMaison(this.paramService.maison).catch(err => console.log(\"Error setting maison : \", err));\n    this.paramService.setCurrency(this.paramService.currency).catch(err => console.log(\"Error setting currency : \", err));\n    console.log('my maisons', this.paramService.maisons)\n    this.navCtrl.pop();\n  }\n\n  exporter() {\n    this.loading = true;\n    this.exportService.exportDB().then(res => {\n      this.showToast(\"Base de données exportée ! Merci Seigneur de prendre soin de nous !\");\n      this.loading = false;\n    }).catch(err => {\n      console.log(\"DB export failed : \", err);\n      this.loading = false;\n    });\n  }\n\n  importer() {\n    // TODO faire un alert confirmation\n    this.loading = true;\n    if (this.ptfm.is('mobileweb') || this.ptfm.is('core')) {\n      console.log(\"import from browser\", this.ptfm.platforms())\n      document.getElementById(\"file_picker_browser\").click();\n    } else if (this.ptfm.is('android')) {\n      console.log(\"importing from android\", this.ptfm.platforms());\n      this.exportService.importDB().then(res => {\n        this.loading = false;\n      }).catch(err => {\n        alert(\"Error during import, sorry :( \" + JSON.stringify(err))\n        this.loading = false;\n      });\n    } else {\n      alert(\"this platform : \" + JSON.stringify(this.ptfm.platforms()) + \" is not supported\")\n      this.loading = false;\n    }\n  }\n\n  import_core_browser(evt) {\n    let files = evt.target.files;\n    let file = files[0];\n    let reader = new FileReader();\n    let mythis = this;\n    reader.onload = (function(theFile) {\n      return function(e) {\n        let data = JSON.parse(e.target.result);\n        if (mythis.exportService.isValidDB(data)) {\n          mythis.exportService.importDBcore(data);\n        } else {\n          console.log(\"invalid db \", data)\n        }\n      }\n    })(file)\n    reader.readAsText(file);\n    this.loading = false; // TODO le mettre plutôt qd importDBcore a terminé !\n  }\n\n  raz() {\n    let alert = this.alertCtrl.create({\n      title: 'Supprimer',\n      message: 'Veux-tu vraiment réinitialisées toutes les données de l\\'application (cette action est irréversible) ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('RAZ annulée');\n          }\n        },\n        {\n          text: 'Réinitialiser',\n          handler: () => {\n            this.loading = true;\n            console.log('Réinitialisation des données...');\n            this.raz_core().then(_ => {\n              this.presentToast(\"Toutes les données ont été réinitialisées ! Thank you O Lord !\")\n              this.loading = false\n            }).catch(err => {\n              console.log(err)\n              this.loading = false\n            })\n          }\n        }\n      ]\n    })\n    alert.present()\n  }\n\n  raz_core() {\n    this.loading = true\n    let plist = []\n    plist.push(this.trService.raz())\n    plist.push(this.fjService.raz())\n    plist.push(this.paramService.raz())\n    return Promise.all(plist)\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/param/param.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, AlertController } from 'ionic-angular';\n\nimport { ParamService } from '../../services/param.service';\nimport { FjService } from '../../services/fj.service';\nimport { CurrencyService } from '../../services/currency.service';\n\nimport moment from 'moment';\n\n\n@Component({\n  selector: 'page-fjgen',\n  templateUrl: 'fjgen.html',\n})\nexport class FjgenPage {\n  private tr_engine_ready: boolean = false;\n  private saving_ongoing: boolean = false;\n\n  public transactions = [];\n  public curr_month = moment().format(\"YYYY-MM\") + \"-01\";\n  public fj_currencies: Array<Object> = [];\n  public curr_currency: string;\n  public solde_mois_prec: any = { 'banque': 0, 'caisse': 0 };\n  public last_months = [];\n  public curr_fj: Object;\n  public fjdata_test;\n  public edit_fj: boolean = false;\n  public fj_list: any;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private paramService: ParamService,\n    private currencyService: CurrencyService,\n    private toastCtrl: ToastController,\n    private alertCtrl: AlertController,\n    private fjService: FjService) {\n      \n    let curr_month_param = this.navParams.get(\"month\");\n    this.curr_currency = 'EUR'; //this.navParams.get(\"currency\");\n\n    if (curr_month_param) {\n      console.log(\"editing fj: \", curr_month_param);\n      this.edit_fj = true;\n      this.fjService.getFjData(curr_month_param).then(fj => {\n        this.fj_currencies = Object.getOwnPropertyNames(fj.data).map(c => this.paramService.getCurrencyObj(c))\n        this.curr_currency = this.fj_currencies[0]['id'];\n        console.log('FJDATA EDITION', this.curr_currency, fj)\n        this.curr_fj = fj\n        this.tr_engine_ready = true;\n      })\n      this.curr_month = moment(curr_month_param).format(\"YYYY-MM\") + \"-01\";\n    } else {\n      this.setupNewFJ().catch(err => {\n        console.log('ERROR in setting up new FJ : ', err)\n      })\n    }\n  }\n\n  get curr_currency_label() {\n    return this.paramService.getCurrencyObj(this.curr_currency)['label']\n  }\n\n  get curr_month_pretty() {\n    let pretty = moment(this.curr_month).format(\"MMMM YYYY\");\n    return pretty[0].toUpperCase() + pretty.substr(1)\n  }\n\n  get info() {\n    return {currency:this.curr_currency, month:this.curr_month}\n  }\n\n  ionViewDidLoad() {\n    console.log('FjgenPage : Hosanna nell\\'alto dei cieli !');\n  }\n\n  // called by the constructor\n  async setupNewFJ() {\n    let lastmonth = await this.fjService.getMonthOfNewFJ();\n    this.last_months = [lastmonth]\n    this.curr_month = lastmonth.date\n\n    console.log(\"creating new FJ\");\n    this.edit_fj = false;\n    let fj = await this.fjService.genFjData(this.curr_month)\n    this.fj_currencies = Object.getOwnPropertyNames(fj.data).map(c => this.paramService.getCurrencyObj(c))\n    console.log('FJDATA', this.fj_currencies, fj)\n    this.curr_fj = fj\n    this.curr_currency = this.fj_currencies[0]['id']\n    this.tr_engine_ready = true;\n    return true\n  }\n\n  presentToast(msg, temps = 2000) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: temps\n    });\n    toast.present();\n  }\n\n  createFJ() { // le bouton sauver fj\n    this.saving_ongoing = true;\n    \n    // on prépare les options\n    let opt = {\n      'personne': this.paramService.personne,\n      'maison': this.paramService.maison,\n      'curr_month': this.curr_month,\n      'already_exists': this.edit_fj,\n      'currency': this.paramService.currency\n    }\n\n    if (!opt.personne) {\n      this.presentToast(\"Il faut spécifier une personne dans les paramètres\");\n      this.saving_ongoing = false;\n      return\n    } else if (!opt.maison) {\n      this.presentToast(\"Il faut spécifier une maison dans les paramètres\");\n      this.saving_ongoing = false;\n      return\n    }\n\n    this.fjService.saveFJ(this.curr_fj, opt).then(res => {\n      this.saving_ongoing = false;\n      console.log(\"FJ sauvée ! Merci Seigneur !\", res);\n      this.navCtrl.pop();\n    }).catch(err => {\n      this.saving_ongoing = false;\n      console.log(err)\n    });\n  }\n\n  reload(prompt = true) {\n    let alert = this.alertCtrl.create({\n      title: 'Recalculer',\n      message: 'Veux-tu vraiment recalculer tous les montants ? Cela écrasera les montants modifiés à la main.',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('Recalcul des montants annulé.');\n          }\n        },\n        {\n          text: 'Recalculer',\n          handler: () => {\n            console.log('Recalcul des montants...');\n            this.reloadcore();\n          }\n        }\n      ]\n    });\n    if (prompt) alert.present();\n    else this.reloadcore();\n  }\n\n  reloadcore() {\n    this.tr_engine_ready = false;\n    this.fjService.genFjData(this.curr_month).then(fj => {\n      console.log('FJDATA reloaded', fj)\n      this.curr_fj = fj\n      this.fj_currencies = Object.getOwnPropertyNames(fj.data).map(c => {return {val: c, label:this.paramService.symbolCurrency(c)}})\n      this.curr_currency = this.fj_currencies[0]['val']\n      this.tr_engine_ready = true;\n    }).catch(err => {\n      console.log(err)\n    })\n  }\n\n  initFjdata() {\n\n    /* let last_fjdata = (this.fjdata) ? JSON.parse(JSON.stringify(this.fjdata)) : undefined;\n    let report_obs = (last_fjdata && last_fjdata.report_mois_precedent && last_fjdata.report_mois_precedent.observations) ? last_fjdata.report_mois_precedent.observations : '';\n    this.fjdata = { 'report_mois_precedent': { 'label': 'Report du mois précédent', 'banque': this.solde_mois_prec.banque, 'caisse': this.solde_mois_prec.caisse, 'observations': report_obs } }\n    this.updateSoldeLastMonth();\n    this.fjdata_test = { 'report_mois_precedent': { 'label': 'Report du mois précédent', 'banque': 'report_mois_prec_B', 'caisse': 'report_mois_prec_C', 'observations': 'report_mois_prec_O' } }\n    this.paramService.categories.forEach(el => {\n      let rep_obs = (last_fjdata && last_fjdata[el.id] && last_fjdata[el.id].observations) ? last_fjdata[el.id].observations : \"\";\n      this.fjdata[el.id] = { 'label': el.label, 'banque': 0.0, 'caisse': 0.0, 'observations': rep_obs }\n      this.fjdata_test[el.id] = { 'label': el.label, 'banque': el.id + '_B', 'caisse': el.id + '_C', 'observations': el.id + '_O' }\n    });\n    this.paramService.categories_in.forEach(el => {\n      let rep_obs = (last_fjdata && last_fjdata[el.id] && last_fjdata[el.id].observations) ? last_fjdata[el.id].observations : \"\";\n      this.fjdata[el.id] = { 'label': el.label, 'banque': 0.0, 'caisse': 0.0, 'observations': rep_obs }\n      this.fjdata_test[el.id] = { 'label': el.label, 'banque': el.id + '_B', 'caisse': el.id + '_C', 'observations': el.id + '_O' }\n    }); */\n  }\n\n  updateSoldeLastMonth() {\n    /* let mois_prec = moment(this.curr_month).subtract(1, 'months').format(\"YYYY-MM-DD\");\n    let fj_mois_prec = _.find(this.fj_list, { \"month\": mois_prec });\n    // console.log(\"Trying to get fj last month\", fj_mois_prec);\n    if (fj_mois_prec) {\n      console.log(\"Found solde précédent du mois \" + mois_prec, fj_mois_prec);\n      this.solde_mois_prec.banque = fj_mois_prec.data.solde_banque;\n      this.solde_mois_prec.caisse = fj_mois_prec.data.solde_caisse;\n      if (this.fjdata && this.fjdata.report_mois_precedent) {\n        this.fjdata.report_mois_precedent.banque = this.solde_mois_prec.banque;\n        this.fjdata.report_mois_precedent.caisse = this.solde_mois_prec.caisse;\n      } else {\n        this.fjdata.report_mois_precedent.banque = 0;\n        this.fjdata.report_mois_precedent.caisse = 0;\n      }\n    } else {\n      console.log(\"Impossible de trouver le solde du mois précédent \" + mois_prec, this.fjdata);\n      if (!this.fjdata.report_mois_precedent) this.fjdata.report_mois_precedent = {};\n      this.fjdata.report_mois_precedent.banque = 0;\n      this.fjdata.report_mois_precedent.caisse = 0;\n    } */\n  }\n\n  computeAmounts() {\n    \n  }\n\n  convert(montant, currency) {\n    if (!this.paramService.currency) throw {\n      'errnum': 'GLOBAL_CURRENCY_UNDEFINED',\n      'fun': 'fgen.ts > convert'\n    }\n    return this.currencyService.convert(montant, currency, this.paramService.currency)\n  }\n\n  soustotal(cat_type) {\n    return this.fjService.soustotal(this.curr_fj, this.curr_currency, cat_type)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/fjgen/fjgen.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\n//import { Observable } from 'rxjs/Observable';\r\n\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\n@Injectable()\r\nexport class ParamService {\r\n\r\n  public categories = [{ 'id': 'alimentation', 'label': 'Alimentation', 'type': 'maison', 'icon': 'fa-cutlery' },\r\n  { 'id': 'energie', 'label': 'Energie (électricité, gaz, ...)', 'type': 'maison', 'icon': 'fa-bolt' },\r\n  { 'id': 'eau', 'label': 'Eau', 'type': 'maison', 'icon': 'fa-tint' },\r\n  { 'id': 'loyer', 'label': 'Loyers et charges', 'type': 'maison', 'icon': 'fa-home' },\r\n  { 'id': 'impot_maison', 'label': 'Impôts locaux et taxes d\\'habitation', 'type': 'maison', 'icon': 'fa-university' },\r\n  { 'id': 'assurance_maison', 'label': 'Assurances maison', 'type': 'maison', 'icon': 'fa-shield' },\r\n  { 'id': 'entretien_maison', 'label': 'Entretien maison', 'type': 'maison', 'icon': 'myicon-broom' },\r\n  { 'id': 'travaux', 'label': 'Equipement et travaux maison', 'type': 'maison', 'icon': 'fa-wrench' },\r\n  { 'id': 'divers_maison', 'label': 'Divers frais maison (à préciser)', 'type': 'maison', 'icon': 'myicon-home-frais' },\r\n  { 'id': 'habillement', 'label': 'Habillement', 'type': 'vie courante', 'icon': 'myicon-tshirt' },\r\n  { 'id': 'formation', 'label': 'Retraites, formation adulte', 'type': 'vie courante', 'icon': 'fa-graduation-cap' },\r\n  { 'id': 'impot_personne', 'label': 'Impôts et taxes des personnes physiques', 'type': 'vie courante', 'icon': 'fa-university' },\r\n  { 'id': 'sante', 'label': 'Dépenses de santé', 'type': 'vie courante', 'icon': 'fa-medkit' },\r\n  { 'id': 'hygiene', 'label': 'Hygiène', 'type': 'vie courante', 'icon': 'myicon-clean' },\r\n  { 'id': 'livre', 'label': 'Livres, journaux', 'type': 'vie courante', 'icon': 'fa-book' },\r\n  { 'id': 'loisir', 'label': 'Loisirs, vacances, sport', 'type': 'vie courante', 'icon': 'fa-futbol-o' },\r\n  { 'id': 'photo', 'label': 'Photos, disques, cassettes', 'type': 'vie courante', 'icon': 'fa-camera' },\r\n  { 'id': 'cadeau', 'label': 'Cadeaux', 'type': 'vie courante', 'icon': 'fa-gift' },\r\n  { 'id': 'enfant', 'label': 'Enfants (scolarité, extrascolaires...)', 'type': 'vie courante', 'icon': 'fa-child' },\r\n  { 'id': 'liturgie', 'label': 'Culte et liturgie', 'type': 'vie courante', 'icon': 'myicon-chapelet' },\r\n  { 'id': 'divers_vie', 'label': 'Divers vie courante (à préciser)', 'type': 'vie courante', 'icon': 'fa-leaf' },\r\n  { 'id': 'voiture', 'label': 'Investissement voiture', 'type': 'transport', 'icon': 'fa-car' },\r\n  { 'id': 'entretien_voiture', 'label': 'Entretien et réparations', 'type': 'transport', 'icon': 'fa-wrench' },\r\n  { 'id': 'carburant', 'label': 'Carburant', 'type': 'transport', 'icon': 'myicon-gas-station' },\r\n  { 'id': 'transport_commun', 'label': 'Transport en commun (train, bus, avion)', 'type': 'transport', 'icon': 'fa-bus' },\r\n  { 'id': 'parking', 'label': 'Péage, parking, etc', 'type': 'transport', 'icon': 'fa-road' },\r\n  { 'id': 'amende', 'label': 'Amendes, contraventions', 'type': 'transport', 'icon': 'myicon-police' },\r\n  { 'id': 'assurance_voiture', 'label': 'Assurances, vignette, carte-grise, divers (à préciser)', 'type': 'transport', 'icon': 'fa-shield' },\r\n  { 'id': 'affranchissement', 'label': 'Affranchissements', 'type': 'secretariat', 'icon': 'fa-envelope' },\r\n  { 'id': 'telephone', 'label': 'Téléphone', 'type': 'secretariat', 'icon': 'fa-mobile' },\r\n  { 'id': 'divers_secretariat', 'label': 'Secrétariat (à préciser)', 'type': 'secretariat', 'icon': 'fa-files-o' },\r\n  { 'id': 'perte', 'label': 'Pertes, écarts de compte, agios bancaires', 'type': 'banque', 'icon': 'fa-bank' },\r\n  { 'id': 'frais_banque', 'label': 'Frais bancaires', 'type': 'banque', 'icon': 'fa-bank' },\r\n  { 'id': 'avance_retournee', 'label': 'Avance retournée ou solde feuille jaune', 'type': 'banque', 'icon': 'fa-money' }];\r\n  public categories_in = [{ 'id': 'salaire', 'label': 'Salaires, honoraires, pensions,retraites', 'icon': 'fa-money' },\r\n  { 'id': 'allocation', 'label': 'Allocations familiales, bourses…', 'icon': 'fa-users' },\r\n  { 'id': 'don', 'label': 'Dons...', 'icon': 'fa-gift' },\r\n  { 'id': 'dime', 'label': 'Reversement des revenus, dons ou dîme', 'icon': 'myicon-tax' },\r\n  { 'id': 'autre', 'label': 'Autres revenus (à détailler)', 'icon': 'fa-usd' },\r\n  { 'id': 'remboursement_sante', 'label': 'Remboursement frais médicaux', 'icon': 'fa-medkit' },\r\n  { 'id': 'remboursement_pro', 'label': 'Remboursement frais professionnels', 'icon': 'fa-black-tie' },\r\n  { 'id': 'remboursement_autre', 'label': 'Autres remboursements (à préciser)', 'icon': 'myicon-money-bag' },\r\n  { 'id': 'avance', 'label': 'Avance demandée à la MM ou à la Cté', 'icon': 'fa-money' },\r\n  { 'id': 'epargne', 'label': 'Pour les fraternités de quartier : Epargne', 'icon': 'myicon-pig' },\r\n  { 'id': 'transfert', 'label': 'Transfert banque/caisse', 'icon': 'fa-exchange' }];\r\n\r\n  // == CHAMPS PHOTO ==\r\n  // dans les champs photo, par défaut il va chercher sur bing images.\r\n  // mais quand le champ vaut '@google:...', ça correspond à des images de google agenda\r\n  public smart_categories = []\r\n\r\n  public liste_maison = _.map(_.filter(this.categories, ['type', 'maison']), 'id');\r\n  public liste_viecourante = _.map(_.filter(this.categories, ['type', 'vie courante']), 'id');\r\n  public liste_transport = _.map(_.filter(this.categories, ['type', 'transport']), 'id');\r\n  public liste_secretariat = _.map(_.filter(this.categories, ['type', 'secretariat']), 'id');\r\n  public liste_banque = _.map(_.filter(this.categories, ['type', 'banque']), 'id');\r\n\r\n  public currencies = []\r\n\r\n  public maisons = []\r\n\r\n  public init: any;\r\n  public gauges: any; // min/max values for the gauges on home screen\r\n\r\n  public personne: string;\r\n  public maison: string;\r\n  public currency: string;\r\n\r\n  constructor(private storage: Storage, private afs: AngularFirestore) {\r\n\r\n    // these 2 lines fix the error for firebase : \"The behavior for Date objects stored in Firestore is going to change AND YOUR APP MAY BREAK\"\r\n    // see here : https://stackoverflow.com/questions/50029307/getting-a-timestamp-error-in-an-angular-app-and-firebase-integration\r\n    afs.app.firestore().settings({timestampsInSnapshots: true});\r\n    afs.app.firestore().enablePersistence();\r\n\r\n    this.initialize()\r\n\r\n    // on récupère les variables d'initialisation\r\n    this.storage.get(\"init\").then(res => {\r\n      this.init = res;\r\n    }).catch(err => {\r\n      console.log(\"No person found, using empty personne\");\r\n      this.init = { 'bienvenue_msg': true }\r\n      this.storage.set(\"init\", this.init);\r\n    });\r\n\r\n    // on récupère la personne si elle existe\r\n    this.storage.get(\"personne\").then(res => {\r\n      this.personne = res;\r\n    }).catch(err => {\r\n      console.log(\"No person found, using empty personne\");\r\n      this.personne = \"\"\r\n    });\r\n\r\n    // on récupère la maison si elle existe\r\n    this.storage.get(\"maison\").then(res => {\r\n      this.maison = res;\r\n    }).catch(err => {\r\n      console.log(\"No maison found, using empty maison\");\r\n      this.maison = \"\"\r\n    });\r\n\r\n    // on récupère la currency si elle existe\r\n    this.storage.get(\"currency\").then(res => {\r\n      this.currency = res;\r\n    }).catch(err => {\r\n      console.log(\"No currency found, using euros (EUR)\");\r\n      this.currency = \"EUR\"\r\n    })\r\n  }\r\n\r\n  initialize() {\r\n    // maisons\r\n    let maisonsCollection = this.afs.collection('maisons')\r\n    let maisonsObs = maisonsCollection.valueChanges()\r\n    maisonsObs.subscribe(data => this.maisons = this.prepareMaisons(data))\r\n\r\n    // devises\r\n    let currencyCollection = this.afs.collection('currencies')\r\n    let currencyObs = currencyCollection.valueChanges()\r\n    currencyObs.subscribe(data => this.currencies = data)\r\n\r\n    // smart_categories\r\n    let catCollection = this.afs.collection('smart_categories')\r\n    let catObs = catCollection.valueChanges()\r\n    catObs.subscribe(data => this.smart_categories = this.prepareSmartCategories(data))\r\n  }\r\n\r\n  // returns only when param attributes are all set\r\n  async ready(n = 10) {\r\n    if (n < 0) return false;\r\n    if (this.maisons && this.maisons.length \r\n        && this.currencies && this.currencies.length\r\n        && this.smart_categories && this.smart_categories.length) {\r\n          return true\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          this.ready(n-1).then(r => resolve(r)).catch(err => reject(err))\r\n        }, 500)\r\n      })\r\n    }\r\n  }\r\n\r\n  prepareSmartCategories(raw_cats) {\r\n    for (let i = 0; i < raw_cats.length; i++) {\r\n      raw_cats[i].regex = new RegExp(raw_cats[i].regex, 'gi')\r\n    }\r\n    return raw_cats\r\n  }\r\n\r\n  prepareMaisons(raw_maisons) {\r\n    for (let i = 0; i < raw_maisons.length; i++) {\r\n      let re = (raw_maisons[i].trig) ? `((^|\\\\s)${raw_maisons[i].trig}($|\\\\s)|${raw_maisons[i].regex})`: raw_maisons[i].regex;\r\n      raw_maisons[i].regex = new RegExp(re, 'gi')\r\n    }\r\n    return raw_maisons\r\n  }\r\n\r\n  setInit(o) {\r\n    this.init = o;\r\n    return this.storage.set(\"init\", o);\r\n  }\r\n\r\n  setMaison(val) {\r\n    this.maison = val;\r\n    return this.storage.set(\"maison\", val);\r\n  }\r\n\r\n  setPersonne(val) {\r\n    this.personne = val;\r\n    return this.storage.set(\"personne\", val);\r\n  }\r\n\r\n  setCurrency(val) {\r\n    this.currency = val;\r\n    return this.storage.set(\"currency\", val);\r\n  }\r\n\r\n  get(key) {\r\n    return this.storage.get(key)\r\n  }\r\n\r\n  raz() {\r\n    let plist = []\r\n    plist.push(this.setInit({ 'bienvenue_msg': true }))\r\n    plist.push(this.setPersonne(''))\r\n    plist.push(this.setMaison(''))\r\n    plist.push(this.setCurrency('EUR'))\r\n    return Promise.all(plist)\r\n  }\r\n\r\n  // renvoie 1 si @s est un trigramme de devise (genre 'EUR'), \r\n  // 2 si c'est un symbole de devise\r\n  // -1 sinon\r\n  isCurrency(s) {\r\n    if (!this.currencies) {\r\n      throw {err: 'No currencies loaded :(', fun: 'param.service > isCurrency'}\r\n    }\r\n    if (this.currencies.map(c => c.id).indexOf(s) >= 0) return 1\r\n    if (this.currencies.map(c => c.symbol).indexOf(s) >= 0) return 2\r\n    return -1\r\n  }\r\n\r\n  // renvoie un objet correspondant à la devise\r\n  getCurrencyObj(devise_id) {\r\n    if (devise_id === null) devise_id = this.currency;\r\n    let c = this.currencies.find(curr => curr.id == devise_id)\r\n    if (c) {\r\n      c['label'] = `${c.name} ${c.symbol}`\r\n      return c\r\n    }\r\n    return {}\r\n  }\r\n\r\n  symbolCurrency(devise = null) {\r\n    // TODO delete this and use getCurrencyObj(...).symbol instead\r\n    if (devise === null) devise = this.currency;\r\n    let res = this.currencies.filter(el => el.id == devise);\r\n    if (res && res.length && res[0] && res[0].symbol) return res[0].symbol;\r\n    else return '.'\r\n  }\r\n\r\n  // recherche une photo pour la maison renseignée\r\n  getPhotoMaison(maison) {\r\n    for (let m of this.maisons) {\r\n      if (m.regex.test(maison)) {\r\n        let alea = Math.round(Math.random() * (m.photos.length -1))\r\n        return m.photos[alea]\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n\r\n  guessCategory(nom) {\r\n    for (let i = 0; i < this.smart_categories.length; i++) {\r\n      if (this.smart_categories[i]['category']) {\r\n        if (nom.match(this.smart_categories[i].regex)) return this.smart_categories[i]['category'];\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n\r\n  guessIcon(nom) {\r\n    for (let i = 0; i < this.smart_categories.length; i++) {\r\n      if (this.smart_categories[i]['icon']) {\r\n        if (nom.match(this.smart_categories[i].regex)) return this.smart_categories[i]['icon'];\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n\r\n  // transforme @month en objet moment\r\n  toMoment(month) {\r\n    if (moment.isMoment(month)) return month;\r\n    if (typeof month == 'string') return moment(month, 'YYYY-MM-DD')\r\n    else throw \"Error in paramService.toMoment : Not valid month \" + month\r\n  }\r\n\r\n  // renvoie le label de la categorie @cat_id\r\n  getCatLabel(cat_id) {\r\n    let cat = this.categories.find(c => c.id == cat_id)\r\n    if (cat) return cat.label;\r\n    let cat_in = this.categories_in.find(c => c.id == cat_id)\r\n    if (cat_in) return cat_in.label;\r\n    //console.log('Error in getting category label for ', cat_id)\r\n    return cat_id\r\n  }\r\n\r\n  // un peu comme _.values mais avec un champ id optionnel\r\n  values(obj, show_id = false) {\r\n    let arr = []\r\n    for (let id in obj) {\r\n      let o = JSON.parse(JSON.stringify(obj[id]))\r\n      if (show_id) o.id = id;\r\n      arr.push(o)\r\n    }\r\n    return arr\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/param.service.ts","import { Injectable } from '@angular/core';\r\nimport { File } from '@ionic-native/file';\r\nimport { ToastController, Platform } from 'ionic-angular';\r\nimport { ParamService } from './param.service';\r\nimport { SocialSharing } from '@ionic-native/social-sharing';\r\nimport * as pdfMake2 from 'pdfmake/build/pdfmake';\r\nimport * as pdfFonts from 'pdfmake/build/vfs_fonts';\r\n\r\nimport moment from 'moment';\r\n\r\n//declare var pdfMake2: any;\r\npdfMake2.vfs = pdfFonts.pdfMake.vfs;\r\n\r\n\r\n@Injectable()\r\nexport class PdfService {\r\n  constructor(private paramService: ParamService,\r\n    public toastCtrl: ToastController,\r\n    private file: File,\r\n    private socialSharing: SocialSharing,\r\n    public ptfm: Platform) {\r\n    moment.locale('fr');\r\n  }\r\n\r\n  rendereGrazie() {\r\n    console.log(\"Lodato sia il Signore !\")\r\n  }\r\n\r\n  private prettyCurrency(amount, currency = null) {\r\n    if (currency == null) currency = this.paramService.symbolCurrency();\r\n    let symbol = this.paramService.getCurrencyObj(currency).symbol\r\n    if (amount == \"\" || amount == 0) return \"\";\r\n    return amount + \" \" + symbol\r\n  }\r\n\r\n  // génère le nom du fichier feuille jaune dans la devise @devise\r\n  private createFJName(fj_o, devise) {\r\n    let initiales = fj_o.personne.split(' ').map(mot => mot[0].toUpperCase()).join('')\r\n    let date = moment(fj_o.month, 'YYYY-MM-DD').format('YYMM')\r\n    return `FeuilleJaune_${initiales}_${date}_${devise}.pdf`\r\n  }\r\n\r\n  async coolWrite(path, filename, blob) {\r\n    let exists = false\r\n    try {\r\n      exists = await this.file.checkFile(path, filename)\r\n    } catch(e) {\r\n      console.log(\"Impossible de vérifier l'existence du fichier \" + path + \"/\" + filename)\r\n      return this.file.writeFile(path, filename, blob, {replace:true})\r\n    }\r\n    \r\n    if (exists) {\r\n      await this.file.removeFile(path, filename)\r\n      return this.file.writeFile(path, filename, blob, {replace:true})\r\n    }\r\n    return this.file.writeFile(path, filename, blob, {replace:true})\r\n  }\r\n\r\n  async createFJPDF(fj_o) {\r\n    let dir_path = this.file.dataDirectory;\r\n    let results = {\r\n      personne: fj_o.personne,\r\n      month: fj_o.month,\r\n      dir: dir_path,\r\n      files: []\r\n    }\r\n    \r\n    for (let currency in fj_o.data) {\r\n      let filename = this.createFJName(fj_o, currency)\r\n\r\n      let pdf_data = null\r\n      try {\r\n        pdf_data = await this.createPdf(fj_o, currency)\r\n      } catch(e) {\r\n        throw {\r\n          fun: 'ERROR in pdf.service > createFJPDF > createPdf',\r\n          e\r\n        }\r\n      }\r\n      let blob = new Blob([pdf_data], { type: 'application/pdf' });\r\n      \r\n      results.files.push({filename, blob})\r\n    }\r\n    return results\r\n  }\r\n\r\n  // pdf_paths_o est un objet retourné par createFJPDF\r\n  async shareFJ(pdf_paths_o) {\r\n    console.log('pdf.service > shareFJ', pdf_paths_o)\r\n\r\n    if (this.weAreInBrowser()) {\r\n      console.log(\"Trying to download PDF directly...\");\r\n      for (let file_o of pdf_paths_o.files) {\r\n        let pdf_url = URL.createObjectURL(file_o.blob);\r\n        this.downloadBrowser(pdf_url, file_o);\r\n        console.log(`Trying to download PDF ${file_o.filename} directly...`)\r\n      }\r\n    } else {\r\n      return this.shareFJ_android(pdf_paths_o)\r\n    }\r\n  }\r\n\r\n  async shareFJ_android(pdf_paths_o) {\r\n    let sujet = \"Feuille Jaune - \" + pdf_paths_o.personne + \" - mois de \" + moment(pdf_paths_o.month).format(\"MMMM - YYYY\");\r\n    let paths = []\r\n      for (let file_o of pdf_paths_o.files) {\r\n        await this.coolWrite(pdf_paths_o.dir, file_o.filename, file_o.blob)\r\n        paths.push(pdf_paths_o.dir + \"/\" + file_o.filename)\r\n      }\r\n\r\n      try {\r\n        await this.socialSharing.share(\"\", sujet, paths)\r\n      } catch(err) {\r\n        if (err === false) {\r\n          let toast = this.toastCtrl.create({\r\n            message: \"Feuille Jaune exportée ! Merci Seigneur de prendre soin de nous !\",\r\n            duration: 2000\r\n          });\r\n          toast.present();\r\n          return 2\r\n        } else {\r\n          console.log('ERROR in pdf.service > shareFJ > socialSharing.share', err)\r\n          let toast = this.toastCtrl.create({\r\n            message: \"Erreur pendant l'export de la Feuille Jaune : \" + JSON.stringify(err),\r\n            duration: 2000\r\n          });\r\n          toast.present();\r\n          throw \"Erreur pendant l'export de la Feuille Jaune : \" + JSON.stringify(err)\r\n        }\r\n      }\r\n  }\r\n\r\n  weAreInBrowser() {\r\n    return (this.ptfm.is('mobileweb') || this.ptfm.is('core')) && !this.ptfm.is('cordova')\r\n  }\r\n\r\n  public createPdf(fjdata, currency) {\r\n    return new Promise((resolve, reject) => {\r\n      let dd = this.createDocumentDefinition(fjdata, currency);\r\n      let pdf = pdfMake2.createPdf(dd);\r\n\r\n      pdf.getBase64((output) => {\r\n        if (!output) console.log(\"PDF Base64 output is empty :(\");\r\n        else resolve(this.base64ToUint8Array(output));\r\n      });\r\n    })\r\n  }\r\n\r\n  downloadBrowser(data, file_o) {\r\n    var element = document.createElement('a');\r\n    // element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(data));\r\n    element.setAttribute('href', data);\r\n    element.setAttribute('download', file_o.filename);\r\n\r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  }\r\n\r\n  private base64ToUint8Array(base64) {\r\n    var raw = atob(base64);\r\n    var uint8Array = new Uint8Array(raw.length);\r\n    for (var i = 0; i < raw.length; i++) {\r\n      uint8Array[i] = raw.charCodeAt(i);\r\n    }\r\n    return uint8Array;\r\n  }\r\n\r\n  private createDDBody(fj_o, currency) {\r\n    // important : on définit fjdata.transfert.caisse uniquement maintenant, pour la génération du pdf\r\n    fj_o.data[currency].transfert.caisse = -fj_o.data[currency].transfert.banque;\r\n\r\n    // on prépare les données\r\n    let data = {}\r\n    for (let categorie in fj_o.data[currency]) {\r\n      if (categorie != 'soustotaux') {\r\n        data[categorie] = {\r\n          label: this.paramService.getCatLabel(categorie),\r\n          banque: this.prettyCurrency(fj_o.data[currency][categorie].banque, currency),\r\n          caisse: this.prettyCurrency(fj_o.data[currency][categorie].caisse, currency),\r\n          observations: fj_o.data[currency][categorie].observations\r\n        }\r\n      } else { // soustotaux\r\n        for (let categorie_tot in fj_o.data[currency]['soustotaux'])\r\n        data[categorie] = JSON.parse(JSON.stringify(fj_o.data[currency][categorie]))\r\n      }\r\n    }\r\n\r\n    data['soustotaux']['total']['bc'] = this.prettyCurrency(fj_o.data[currency]['soustotaux']['total'].banque + fj_o.data[currency]['soustotaux']['total'].caisse, currency)\r\n    data['soustotaux']['solde']['bc'] = this.prettyCurrency(fj_o.data[currency]['soustotaux']['solde'].banque + fj_o.data[currency]['soustotaux']['solde'].caisse, currency)\r\n\r\n    let line_nums = [];\r\n    let body = [];\r\n    body.push([{ text: '1', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'NOM: ' + fj_o.personne + '  -  MOIS: ' + moment(fj_o.month, 'YYYY-MM-DD').format('MM-YYYY'), style: \"defaultStyle\" }, { text: 'BANQUE', alignment: 'center', style: \"defaultStyle\" }, { text: 'CAISSE', alignment: 'center', style: 'defaultStyle' }, { text: 'OBSERVATIONS', style: 'defaultStyle' }]);\r\n\r\n    // ENTREES\r\n    body.push([{ text: '', style: 'line_num' }, { text: '', style: 'col_space' }, { 'text': 'ENTRÉES', style: [\"header\"] }, '', '', { text: 'Maison: ' + fj_o.maison, margin: [0, 0, 0, 0], fontSize: 9 }]);\r\n    ['salaire', 'allocation', 'don'].forEach((el, i) => {\r\n      body.push([{ text: (i + 2).toString(), style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '5', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'SOUS-TOTAL', style: ['section'] }, { text: data['soustotaux'].revenus.banque, style: ['montantImp'] }, { text: data['soustotaux'].revenus.caisse, style: ['montantImp'] }, { text: '', style: 'observation' }]);\r\n    line_nums = ['6', '7', '8', '9', '10', '12', '13'];\r\n    ['dime', 'autre', 'remboursement_sante', 'remboursement_pro', 'remboursement_autre'].forEach((el, i) => {\r\n      body.push([{ text: line_nums[i], style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '12', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'REPORT DU MOIS PRÉCÉDENT', style: 'report' }, { text: data['report_mois_precedent'].banque, style: 'montantImp' }, { text: data['report_mois_precedent'].caisse, style: 'montantImp' }, { text: data['report_mois_precedent'].observations, style: 'observation' }])\r\n    body.push([{ text: '13', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'Avance demandée à la MM ou à la Cté', style: ['categorie'] }, { text: data['avance'].banque, style: 'montant' }, { text: data['avance'].caisse, style: 'montant' }, { text: data['avance'].observations, style: 'observation' }]);\r\n    body.push([{ text: '14', style: 'line_num' }, { text: '', style: 'col_space' }, { text: '', style: ['categorie'] }, { text: '', style: 'montant' }, { text: '', style: 'montant' }, { text: '', style: 'observation' }]);\r\n    line_nums = ['15', '16'];\r\n    ['epargne', 'transfert'].forEach((el, i) => {\r\n      body.push([{ text: line_nums[i], style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '17', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'I - DISPONIBILITÉS DU MOIS', style: ['subsection'] }, { text: data['soustotaux']['dispos_mois'].banque, style: 'montantImp' }, { text: data['soustotaux']['dispos_mois'].caisse, style: 'montantImp' }, { text: '', style: 'observation' }]);\r\n\r\n    // SORTIES\r\n    // SOUS-TOTAL MAISON\r\n    body.push([{ text: '', style: 'line_num' }, { text: '', style: 'col_space' }, { 'text': 'SORTIES', style: [\"header\"] }, '', '', { text: '', margin: [0, 5, 0, 5] }]);\r\n    line_nums = ['18', '19', '21', '22', '23', '24', '25', '29', '30'];\r\n    this.paramService.liste_maison.forEach((el, i) => {\r\n      body.push([{ text: line_nums[i], style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'II - TOTAL MAISON', style: ['subsection'] }, { text: data['soustotaux']['maison'].banque, style: 'montantImp' }, { text: data['soustotaux']['maison'].caisse, style: 'montantImp' }, { text: '', style: 'observation' }]);\r\n\r\n    // SOUS-TOTAL VIE COURANTE\r\n    this.paramService.liste_viecourante.forEach((el, i) => {\r\n      body.push([{ text: (i + 32).toString(), style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '44', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'III - TOTAL VIE COURANTE', style: ['subsection'] }, { text: data['soustotaux']['vie_courante'].banque, style: 'montantImp' }, { text: data['soustotaux']['vie_courante'].caisse, style: 'montantImp' }, { text: '', style: 'observation' }]);\r\n\r\n    // SOUS-TOTAL TRANSPORT\r\n    this.paramService.liste_transport.forEach((el, i) => {\r\n      body.push([{ text: (i + 45).toString(), style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '52', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'IV - TOTAL TRANSPORT', style: ['subsection'] }, { text: data['soustotaux']['transport'].banque, style: 'montantImp' }, { text: data['soustotaux']['transport'].caisse, style: 'montantImp' }, { text: '', style: 'observation' }]);\r\n\r\n    // SOUS-TOTAL SECRETARIAT\r\n    this.paramService.liste_secretariat.forEach((el, i) => {\r\n      body.push([{ text: (i + 54).toString(), style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '57', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'V - TOTAL SECRÉTARIAT', style: ['subsection'] }, { text: data['soustotaux']['secretariat'].banque, style: 'montantImp' }, { text: data['soustotaux']['secretariat'].caisse, style: 'montantImp' }, { text: '', style: 'observation' }]);\r\n\r\n    // BANQUE\r\n    ['perte', 'frais_banque'].forEach((el, i) => {\r\n      body.push([{ text: (i + 58).toString(), style: 'line_num' }, { text: '', style: 'col_space' }, { text: data[el].label, style: ['categorie'] }, { text: data[el].banque, style: 'montant' }, { text: data[el].caisse, style: 'montant' }, { text: data[el].observations, style: 'observation' }])\r\n    });\r\n    body.push([{ text: '61', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'Avance retournée ou solde feuille jaune', style: ['categorie'] }, { text: data['avance_retournee'].banque, style: 'montant' }, { text: data['avance_retournee'].caisse, style: 'montant' }, { text: 'TOTAL BANQUE + CAISSE', style: 'total_banque_caisse' }]);\r\n\r\n    body.push([{ text: '62', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'TOTAL DES SORTIES', style: 'total_sorties' }, { text: data['soustotaux']['total'].banque, style: 'montantImp' }, { text: data['soustotaux']['total'].caisse, style: 'montantImp' }, { text: data['soustotaux']['total'].bc, style: 'montantImp' }]);\r\n    body.push([{ text: '63', style: 'line_num' }, { text: '', style: 'col_space' }, { text: 'SOLDE (à reporter le mois suivant ligne 12)', style: 'solde' }, { text: data['soustotaux']['solde'].banque, style: 'montant' }, { text: data['soustotaux']['solde'].caisse, style: 'montant' }, { text: data['soustotaux']['solde'].bc, style: 'montant' }]);\r\n \r\n    //console.log(\"BODY PDF\", body)\r\n    return body\r\n  }\r\n\r\n  private createDocumentDefinition(fjdata, currency) {\r\n    let body = {}\r\n    try {\r\n      body = this.createDDBody(fjdata, currency)\r\n    } catch(e) {\r\n      throw {\r\n        fun: 'ERROR in pdf.service > createDDBody',\r\n        err: e\r\n      }\r\n    }\r\n\r\n    let dd = {\r\n      pageSize: 'A4',\r\n      info: {\r\n        title: \"Feuille Jaune\"\r\n      },\r\n      pageMargins: [40, 20, 40, 20],\r\n      content: [\r\n        {\r\n          table: {\r\n            // headers are automatically repeated if the table spans over multiple pages\r\n            // you can declare how many rows should be treated as headers\r\n            headerRows: 0,\r\n            widths: [14, 2, '*', 60, 60, 120],\r\n\r\n            body,\r\n          },\r\n          layout: {\r\n            hLineWidth: function(i, node) {\r\n              return (i === 2 || i === 18 || i == 56) ? 2 : 1;\r\n            },\r\n            vLineWidth: function(i, node) {\r\n              return (i === 0 || i == 3 || i == 4 || i == 5 || i === node.table.widths.length) ? 1 : 0;\r\n            },\r\n            hLineColor: function(i, node) {\r\n              return (i === 2 || i === 18 || i == 56) ? 'black' : 'gray';\r\n            },\r\n            vLineColor: function(i, node) {\r\n              return (i === 0 || i === node.table.widths.length) ? 'black' : 'gray';\r\n            },\r\n            // paddingLeft: function(i, node) { return 4; },\r\n            // paddingRight: function(i, node) { return 4; },\r\n            // paddingTop: function(i, node) { return 2; },\r\n            // paddingBottom: function(i, node) { return 2; },\r\n            // fillColor: function (i, node) { return null; }\r\n          }\r\n        },\r\n      ],\r\n      styles: {\r\n        header: {\r\n          fontSize: 9,\r\n          bold: true,\r\n          alignment: 'center',\r\n          margin: [0, 0, 0, 0]\r\n        },\r\n        report: {\r\n          bold: true,\r\n          fontSize: 8\r\n        },\r\n        section: {\r\n          alignment: 'center',\r\n          border: [false, false, false, false],\r\n          fontSize: 8\r\n        },\r\n        subsection: {\r\n          alignment: 'right',\r\n          bold: true,\r\n          fontSize: 8\r\n        },\r\n        line_num: {\r\n          fontSize: 7\r\n        },\r\n        montant: {\r\n          alignment: 'right',\r\n          fontSize: 7\r\n        },\r\n        montantImp: {\r\n          fillColor: '#DDDDDD',\r\n          alignment: 'right',\r\n          fontSize: 7\r\n        },\r\n        observation: {\r\n          fontSize: 7\r\n        },\r\n        categorie: {\r\n          fontSize: 7\r\n        },\r\n        total_banque_caisse: {\r\n          fillColor: '#DDDDDD',\r\n          bold: true,\r\n          fontSize: 7\r\n        },\r\n        total_sorties: {\r\n          alignment: 'right',\r\n          fontSize: 8,\r\n          bold: true,\r\n          fillColor: '#DDDDDD'\r\n        },\r\n        solde: {\r\n          fontSize: 8,\r\n          bold: true,\r\n          alignment: 'right'\r\n        },\r\n        defaultStyle: {\r\n          fontSize: 9\r\n        }\r\n      }\r\n    }\r\n\r\n    return dd;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/pdf.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, ToastController, Platform } from 'ionic-angular';\nimport { TransactionService } from '../../services/transaction.service';\nimport { ParamService } from '../../services/param.service';\n// import { RadioSquareComponent } from '../../components/radio-square/radio-square';\nimport { DatePicker } from '@ionic-native/date-picker';\n\nimport moment from 'moment';\nimport _ from 'lodash';\n\n@Component({\n  selector: 'page-ajouter2',\n  templateUrl: 'ajouter2.html',\n})\nexport class Ajouter2Page {\n\n  @ViewChild(Slides) slides: Slides;\n  @ViewChild('inputmontant') myInput; // sert pour pouvoir mettre le focus automatiquement sur un input et afficher le clavier\n  @ViewChild('categoryList') categoryList;\n\n  private today: string = \"\";\n  private cool_date: string = \"\";\n  private pretty_moyen: string = \"\";\n  private pretty_category: string = \"\";\n\n  public bugFixAndroidKeyboard:Object = {}; // to fix bug when keyboard appears (see https://stackoverflow.com/questions/36827211/ionic2-content-in-slides-not-scrolling#41176943)\n\n  private nbPhases: number = 6;\n  private traduction_type = { 'in': 'un revenu', 'out': 'une dépense', 'retrait': 'un retrait DAB', 'depot': \"un dépôt en banque\" };\n  private moyen_titles = { // c'est le titre à mettre dans le radio-square si l'utilisateur a choisi data.type = 'in' ou 'out'\n    'out': {\n      'banque': 'J\\'ai payé par carte ou chèque',\n      'caisse': 'J\\'ai payé en argent liquide'\n    },\n    'in': {\n      'banque': 'J\\'ai reçu de l\\'argent en banque',\n      'caisse': 'J\\'ai reçu de l\\'argent liquide'\n    }\n  };\n\n  public is_valid_transaction: boolean = false;\n  public error_validity_details = {};\n  public last_slide_visited: boolean = false;\n\n  public type_options = [{ 'val': 'out', 'title': 'Une dépense / sortie d\\'argent', 'icon': 'fa-shopping-cart' },\n    { 'val': 'in', 'title': \"Un revenu / entrée d\\'argent\", 'icon': 'fa-trophy' },\n    { 'val': 'retrait', 'title': 'Un retrait d\\'argent au distributeur', 'icon': 'fa-money' },\n    { 'val': 'depot', 'title': 'Un dépôt à la banque de mon argent liquide', 'icon': 'fa-bank' }];\n  public moyen_options = [{ 'val': 'banque', 'title': this.moyen_titles.out.banque, 'icon': 'fa-credit-card' },\n    { 'val': 'caisse', 'title': this.moyen_titles.out.caisse, 'icon': 'fa-money' }];\n  public categories_options = [];\n\n  public transaction_engine_ok: boolean = false;\n  public transactions;\n  public data_default = { 'name': '', 'type': 'out', 'moyen': 'banque', 'montant': 0.0, 'currency': 'EUR', 'date': moment().format('YYYY-MM-DD'), 'category': '', 'comment': '' }\n  public data = JSON.parse(JSON.stringify(this.data_default));\n\n\n\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private toastCtrl: ToastController,\n    private transactionService: TransactionService,\n    private paramService: ParamService,\n    private ptfm: Platform,\n    private datePicker: DatePicker) {\n\n\n    moment.locale('fr');\n    this.today = moment().format(\"dddd DD MMMM YYYY\");\n    this.categories_options = _.map(this.paramService.categories, el => {\n      return { 'val': el.id, 'title': el.label, 'icon': el.icon }\n    });\n\n    // bug fix android keyboard (see https://stackoverflow.com/questions/36827211/ionic2-content-in-slides-not-scrolling#41176943)\n    if (this.ptfm.is('cordova')) this.bugFixAndroidKeyboard = {height: 'auto'};\n\n    // on initialise les currencies et la currency à utiliser lorsqu'on ajoute des transactions\n    this.data.currency = (paramService.currency) ? paramService.currency : 'EUR';\n\n    transactionService.getAll().then(data => {\n      this.transactions = data;\n      if (typeof data != 'object' || !data || !data.length) this.transactions = [];\n      this.data.name = this.genNewTransactionName();\n      this.transaction_engine_ok = true;\n    }).catch(err => {\n      console.log(err);\n      console.log(\"creating new empty transactions list\");\n      this.transactionService.set([]).then(_ => {\n        this.transactions = [];\n        this.transaction_engine_ok = true;\n      }).catch(err => {\n        console.log(err);\n        this.transaction_engine_ok = false;\n      })\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Ajouter2Page. Le Seigneur est mon berger je ne manque de rien !');\n  }\n\n  enregistrer() {\n    if (!this.validateData()) {\n      this.presentToast(\"Les données rentrées sont invalides ou incomplètes :(\");\n      return\n    }\n    // on fait l'intelligent fix :\n    this.intelligentFix();\n\n    // on sauve dans la database\n    console.log(\"tr à enregistrer : \", this.data);\n\n    // on ecrit la devise dans les paramètres si elle n'est pas définie\n    if (!this.paramService.currency && this.data.currency) this.paramService.setCurrency(this.data.currency);\n\n    this.transactions.push(this.data);\n    this.transactionService.add(this.data)\n      .then(d => {\n        // on affiche un petit toast :)\n        this.presentToast(\"La transaction a été enregistrée, merci Seigneur !\");\n        this.navCtrl.pop();\n      })\n      .catch(err => {\n        console.log(err);\n        this.presentToast(JSON.stringify(err));\n      });\n    // on remet à zéro\n    this.data = JSON.parse(JSON.stringify(this.data_default));\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  progress() {\n    let num_slide = this.slides.getActiveIndex() + 1;\n    return num_slide * 100 / this.nbPhases;\n  }\n\n  goToSlide(num) {\n    setTimeout(_ => {\n      // this.loadProgress += Math.round(100.0 / this.nbPhases);\n      this.slides.slideTo(num, 200);\n    }, 300);\n  }\n\n  slideChanged() {\n    if (this.slides.getActiveIndex() == 2) {\n      // this.myInput.setFocus();\n    } else if (this.slides.getActiveIndex() == 3) { // montant\n      if (this.data.montant <= 0) {\n        this.presentToast(\"Le montant ne peut pas être nul\");\n        // this.slides.slideTo(2, 200);\n      } else {\n        if (this.data.type == \"in\") {\n          this.categories_options = _.map(this.paramService.categories_in, el => {\n            return { 'val': el.id, 'title': el.label, 'icon': el.icon }\n          });\n        } else if (this.data.type == 'out') {\n          this.categories_options = _.map(this.paramService.categories, el => {\n            return { 'val': el.id, 'title': el.label, 'icon': el.icon }\n          });\n        } else {\n          this.categories_options = [];\n        }\n      }\n    } else if (this.slides.getActiveIndex() == 5) { // category list\n      if (this.data.category != '') {\n        let ind = this.categories_options.findIndex(e => e.val == this.data.category)\n        if (ind > 4) this.categoryList._scrollContent.nativeElement.scrollTop = ind * 61;\n      }\n    } else if (this.slides.getActiveIndex() == 6) {\n      this.last_slide_visited = true;\n      this.cool_date = \"le \" + moment(this.data.date).format(\"dddd DD MMMM YYYY\");\n      if (moment(this.data.date).format(\"DDMMYY\") == moment().format(\"DDMMYY\")) this.cool_date = \"aujourd'hui\";\n      this.pretty_moyen = \"en liquide\";\n      if (this.data.category) {\n        if (this.data.type == \"out\") this.pretty_category = _.find(this.paramService.categories, { 'id': this.data.category }).label;\n        else if (this.data.type == 'in') this.pretty_category = _.find(this.paramService.categories_in, { 'id': this.data.category }).label;\n      } else {\n        this.pretty_category = \"\";\n      }\n      if (this.data.moyen == \"banque\" && this.data.type == \"in\") this.pretty_moyen = \"sur mon compte bancaire\";\n      if (this.data.moyen == \"banque\" && this.data.type == \"out\") this.pretty_moyen = \"par carte ou chèque\";\n      this.is_valid_transaction = this.validateData();\n    }\n  }\n\n  setDateToday() {\n    this.data.date = moment().format('YYYY-MM-DD');\n    this.donePhase(4);\n  }\n\n  chooseDate() {\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'date',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\n    }).then(\n      date => console.log('Got date: ', date),\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  genNewTransactionName() {\n    let names = _.map(this.transactions, 'name');\n    let newname = \"New\";\n    let i = 2;\n    while (names.indexOf(newname) > -1) {\n      newname = \"New\" + (i).toString();\n      i++\n    }\n    return newname;\n  }\n\n  donePhase(n) {\n    if (n == 0) {\n      // 1ere phase : le type de transaction (in/out/retrait/depot)\n      let ind_slide = n + 1;\n      this.data.category = \"\";\n      if (this.data.type != 'in' && this.data.type != 'out') {\n        ind_slide++;\n      } else { // alors on change un peu le texte\n        let ind_banque = _.findIndex(this.moyen_options, function(o) { return o.val == 'banque'; });\n        let ind_caisse = _.findIndex(this.moyen_options, function(o) { return o.val == 'caisse'; });\n        this.moyen_options[ind_banque].title = this.moyen_titles[this.data.type]['banque'];\n        this.moyen_options[ind_caisse].title = this.moyen_titles[this.data.type]['caisse'];\n      }\n      if (this.last_slide_visited) this.goToSlide(6); else this.goToSlide(ind_slide);\n\n    } else if (n == 1) {\n      // 2eme phase : le moyen de paiement\n      if (this.last_slide_visited) this.goToSlide(6); else this.goToSlide(n + 1);\n\n    } else if (n == 2) {\n      // 3eme phase : le montant\n      if (this.data.montant > 0) {\n        if (this.last_slide_visited) {\n          this.goToSlide(6);\n        } else if (this.data.type != 'in' && this.data.type != 'out') {\n          this.goToSlide(n + 2);\n        } else {\n          this.goToSlide(n + 1);\n        }\n      } else {\n        this.presentToast(\"Il faut insérer un montant valide > 0 stp :)\")\n      }\n\n    } else if (n == 3) {\n      // 4eme phase : le nom et le commentaire\n      this.data.category = this.paramService.guessCategory(this.data.name) // on essaie de deviner la catégorie à partir du nom rentré\n      if (this.last_slide_visited) this.goToSlide(6); else this.goToSlide(n + 1);\n\n    } else if (n == 4) {\n      // 5eme phase : la date\n      if (this.last_slide_visited) this.goToSlide(6); else this.goToSlide(n + 1);\n\n    } else if (n == 5) {\n      // 6eme phase : la catégorie\n      if (this.last_slide_visited) this.goToSlide(6); else this.goToSlide(n + 1);\n\n    } else {\n      console.log(\"Phase \" + n + ' inconnue');\n    }\n  }\n\n  validateData() {\n    this.error_validity_details = {};\n    // check validity\n    let montant_pasbon = (!this.data.montant || (typeof this.data.montant === 'number' && this.data.montant <= 0) || (typeof this.data.montant === 'string' && parseFloat(this.data.montant) <= 0));\n    if (!this.data.category || montant_pasbon || !this.data.type || !this.data.name) {\n      if (montant_pasbon) this.error_validity_details[\"montant\"] = \"Il faut spécifier un montant positif.\";\n      if (!this.data.type) this.error_validity_details[\"type\"] = \"Il faut spécifier un type de transaction (entrée/sortie).\";\n      if (!this.data.name) this.error_validity_details[\"nom\"] = \"Il faut donner un nom à la transaction\";\n      if (!this.data.category) {\n        if (this.data.type != 'in' && this.data.type != 'out') { // si c'est un retrait ou un dépôt\n          return !montant_pasbon && this.data.name;\n        } else {\n          this.error_validity_details[\"categorie\"] = \"Il faut spécifier une catégorie !\";\n          return false;\n        }\n      }\n      return false\n    }\n    return true;\n  }\n\n  intelligentFix() {\n    // intelligent fix of data\n\n    if (typeof this.data.montant == 'string') this.data.montant = parseFloat(this.data.montant);\n\n    // on fait un traitement spécial si on est dans le cas d'un retrait ou d'un dépôt d'argent\n    if (this.data.type != 'in' && this.data.type != 'out') {\n      // un transfert pour l'app c'est un retrait = montant négatif côté banque et un montant positif côté caisse\n      // on enregistre toujours la transaction du point de vue de la banque, donc montant négatif si retrait et positif si dépôt\n      this.data.moyen = 'banque';\n      this.data.category = 'transfert';\n      if (this.data.type == 'retrait') {\n        // si c'est un retrait, l'utilisateur a mis un montant positif, mais en fait il faut enregistrer un montant négatif\n        // car on enregistre toujours la transaction du point de vue de la banque\n        this.data.montant = -this.data.montant;\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ajouter2/ajouter2.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 250;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 250\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 301;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 301\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { ParamService } from './param.service';\r\nimport { CurrencyService } from './currency.service';\r\n\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\n\r\n@Injectable()\r\nexport class TransactionService {\r\n  private key: string = \"transactions\";\r\n  private cat_lists = { 'in': [], 'out': [] };\r\n\r\n  constructor(private storage: Storage,\r\n    private paramService: ParamService,\r\n    private currencyService: CurrencyService) { }\r\n\r\n  set(tr_list) {\r\n    return this.storage.set(this.key, tr_list);\r\n  }\r\n\r\n  raz() {\r\n    return this.set([])\r\n  }\r\n\r\n  async add(tr) {\r\n    let tr_list = await this.getAll()\r\n    tr.id = this.genId(tr)\r\n    tr.icon = this.smartIcon(tr)\r\n    tr_list.push(tr)\r\n    return this.set(tr_list)\r\n  }\r\n\r\n  // met à jour la transaction tr\r\n  async update(id, tr) {\r\n    let tr_list = await this.getAll()\r\n    let ind = tr_list.findIndex(el => el.id == id)\r\n    if (ind) {\r\n      tr_list.splice(ind, 1, tr)\r\n    } else {\r\n      console.log(\"Aucune mise à jour de la trasanction pour id=\" + id + \" et tr:\", tr)\r\n      return 0\r\n    }\r\n    return this.set(tr_list)\r\n  }\r\n\r\n  trEqual(tr, el) {\r\n    if ('id' in tr && 'id' in el) return tr['id'] == el['id'];\r\n    else return el.montant == tr.montant && el.name == tr.name && el.date == tr.date\r\n  }\r\n\r\n  genId(tr) {\r\n    let alea = \"_\" + Math.round(Math.random()*1000000).toString();\r\n    return moment(tr.date).format(\"YYMMDD\") + \"_\" + tr.name + alea;\r\n  }\r\n\r\n  async delete(tr) {\r\n    let tr_list = await this.getAll()\r\n    if (typeof tr != 'object') tr = tr_list.find(el => el.id == tr.id)\r\n    if (!tr) throw {\r\n      errnum: \"INVALID_PARAM\",\r\n      fun: 'transaction.service > delete',\r\n      arg: tr,\r\n      descr: \"Cannot delete this element, wrong format or unknown id\"\r\n    }\r\n    if (typeof tr_list != 'object' || !tr_list.length) throw \"le format de la base de données des transactions est corrompu, ou la base est vide\"\r\n\r\n    let ind = tr_list.findIndex(el => el.id == tr.id)\r\n    if (ind) {\r\n      tr_list.splice(ind, 1)\r\n      return this.set(tr_list)\r\n    } else {\r\n      console.log(\"WARNING in transaction.service > delete : transaction not found...\", tr)\r\n      return 0\r\n    }    \r\n  }\r\n\r\n  async getAll() {\r\n    let tr_list = await this.storage.get(this.key) // this is a promise\r\n    if (!tr_list) return []\r\n    tr_list = this.fixOldTrFormat(tr_list)\r\n    return tr_list\r\n  }\r\n\r\n  async getTransactions(month = null, currency = null) {\r\n    let tr_list = await this.getAll()\r\n    if (month) {\r\n      month = this.paramService.toMoment(month)\r\n      let mymonth = month.month()\r\n      let myyear = month.year()\r\n      tr_list = tr_list.filter(tr => moment(tr.date, 'YYYY-MM-DD').month() == mymonth && moment(tr.date, 'YYYY-MM-DD').year() == myyear)\r\n    }\r\n    if (currency) { // 'EUR', 'ILS', ...\r\n      tr_list = tr_list.filter(tr => tr.currency == currency)\r\n    }\r\n    return tr_list\r\n  }\r\n\r\n  // renvoie la liste des devises du mois, basée sur les transactions (pas sur les fj)\r\n  // e.g. ['EUR', 'ILS']\r\n  async getMonthCurrencies(month) {\r\n    month = this.paramService.toMoment(month)\r\n    let tr_list = await this.getTransactions(month);\r\n    return _.uniq(tr_list.map(tr => tr.currency))\r\n  }\r\n\r\n  // renvoie le total des dépenses du mois en convertissant dans la devise @devise\r\n  async getTotalDepensesMonth(month, devise = null, tr_list = null) {\r\n    if (!devise) devise = this.paramService.currency\r\n    month = this.paramService.toMoment(month)\r\n    let mymonth = month.month()\r\n    let myyear = month.year()\r\n    if (!tr_list) tr_list = await this.getAll()\r\n    let month_tr_list = tr_list.filter(tr => moment(tr.date, 'YYYY-MM-DD').month() == mymonth && moment(tr.date, 'YYYY-MM-DD').year() == myyear)\r\n    return _.sum(month_tr_list.map(tr => this.currencyService.convert(tr.montant, devise)))\r\n  }\r\n\r\n  // renvoie la liste des transactions du mois @month\r\n  // si currency != null, renvoie uniquement les transactions en devise @currency\r\n  async getTrMonthCurrency(month, currency = null, tr_list = null) {\r\n    console.log('getting transactions with these parameters : ', month, currency)\r\n    month = this.paramService.toMoment(month)\r\n    if (!tr_list || !tr_list.length) tr_list = await this.getAll()\r\n    let tr_list_filtered = tr_list.filter(tr => moment(tr.date, 'YYYY-MM-DD').month() == month.month() && moment(tr.date, 'YYYY-MM-DD').year() == month.year())\r\n    if (currency) tr_list_filtered = tr_list_filtered.filter(tr => tr.currency == currency)\r\n    return tr_list_filtered\r\n  }\r\n\r\n\r\n  /* ===================== Cosmetic services =========================== */\r\n\r\n  categoryLabel(curr_tr) {\r\n    if (!this.cat_lists.in || this.cat_lists.in.length <= 0) {\r\n      this.cat_lists.out = this.paramService.categories;\r\n      this.cat_lists.in = this.paramService.categories_in;\r\n    }\r\n    let cat_list = (curr_tr.type == \"out\") ? this.cat_lists.out : this.cat_lists.in;\r\n    let el = _.find(cat_list, { 'id': curr_tr.category });\r\n    if (el) {\r\n      if (curr_tr.type == 'depot') {\r\n        return \"Dépôt à la banque\"\r\n      } else if (curr_tr.type == 'retrait') {\r\n        return \"Retrait d'argent liquide\"\r\n      } else {\r\n        return el.label;\r\n      }\r\n    } else {\r\n      console.log(\"Cannot find category label for \", curr_tr)\r\n    }\r\n  }\r\n\r\n  smartIcon(curr_tr) {\r\n    if (!this.cat_lists.in || this.cat_lists.in.length <= 0) {\r\n      this.cat_lists.out = this.paramService.categories;\r\n      this.cat_lists.in = this.paramService.categories_in;\r\n    }\r\n    let cat_list = (curr_tr.type == \"out\") ? this.cat_lists.out : this.cat_lists.in;\r\n    let myicon = \"\";\r\n    let el = _.find(cat_list, { 'id': curr_tr.category });\r\n    if (el) {\r\n      myicon = el.icon;\r\n      let smart_icon = this.paramService.guessIcon(curr_tr.name);\r\n      if (smart_icon.length) myicon = smart_icon;\r\n    }\r\n\r\n    if (curr_tr.type == 'depot') {\r\n      myicon = \"fa-angle-double-left\";\r\n    } else if (curr_tr.type == 'retrait') {\r\n      myicon = \"fa-angle-double-right\";\r\n    }\r\n\r\n    return myicon\r\n  }\r\n\r\n  // ========================================================\r\n  //             HELPER FUNS TO FIX OLD TR FORMATS\r\n  // ========================================================\r\n\r\n  fixOldTrFormat(tr_list) {\r\n    for (let i = 0; i < tr_list.length; i++) {\r\n      if (!('id' in tr_list[i])) tr_list[i].id = this.genId(tr_list[i]);\r\n    }\r\n    return tr_list\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/transaction.service.ts","import { Component } from '@angular/core';\n\nimport { HomePage } from '../home/home';\nimport { FjmgmtPage } from '../fjmgmt/fjmgmt';\nimport { ChartsPage } from '../charts/charts';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = HomePage;\n  tab2Root = ChartsPage;\n  tab3Root = FjmgmtPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { App, NavController, ModalController, AlertController } from 'ionic-angular';\n//import { GooglePlus } from '@ionic-native/google-plus';\n\nimport { TransactionService } from '../../services/transaction.service';\nimport { FjService } from '../../services/fj.service';\nimport { ParamService } from '../../services/param.service';\nimport { CurrencyService } from '../../services/currency.service';\n\n//import { GaugeComponent } from '../../components/gauge/gauge';\n\nimport { Ajouter2Page } from '../ajouter2/ajouter2';\nimport { ParamPage } from '../param/param';\n//import { LoginPage } from '../login/login';\n\nimport moment from 'moment';\nimport _ from 'lodash';\n\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  private transactions;\n  private fj_list;\n  private gauges: any = {\n    'banque': 0, 'caisse': 0,\n    'banque_max': 100, 'caisse_max': 100,\n    'pretty_banque': \"0 €\", \"pretty_caisse\": \"0 €\"\n  };\n  private init: any = { 'bienvenue_msg': true };\n\n  constructor(public navCtrl: NavController,\n    private trService: TransactionService,\n    private fjService: FjService,\n    public modalCtrl: ModalController,\n    public alertCtrl: AlertController,\n    private paramService: ParamService,\n    private currencyService: CurrencyService,\n    //private googlePlus: GooglePlus,\n    private appCtrl: App) {\n\n    paramService.ready().then(r => {\n      this.updateGauges();\n    })\n\n    paramService.get(\"init\").then(v => {\n      if (v) this.init = v;\n    }).catch(err => {\n      console.log(err)\n    });\n\n  }\n\n  ionViewDidLoad() {\n    console.log(\"HomePage: Santo è il Signore, Dio del'universo !\");\n  }\n\n  ionViewDidEnter() {\n    this.updateGauges();\n    //this.loginGoogle()\n  }\n\n  /* loginGoogle() {\n    console.log('Logging in with Google')\n    this.googlePlus.login({\n      'webClientId': '896977390209-5ab1vtvbcm9uvloqi8fpa3ghmvsv35pu.apps.googleusercontent.com'\n    }).then((res) => {\n        console.log(res);\n    }, (err) => {\n        console.log(err);\n    });\n  } */\n\n  async updateGauges() {\n    await this.paramService.ready()\n    this.transactions = await this.trService.getAll()\n    this.fj_list = await this.fjService.getAllFJ()\n    return this.updateGaugesCore()\n  }\n\n  async updateGaugesCore() {\n    await this.currencyService.init();\n    let curr_month = moment().format(\"YYYY-MM\") + \"-01\";\n    //let last_month = moment(curr_month).subtract(1, 'months').format(\"YYYY-MM\") + \"-01\";\n\n    let prec_month_fj = await this.fjService.getFjLastMonth(curr_month);\n    let this_month_fj = _.find(this.fj_list, { 'month': curr_month });\n    let solde = { 'banque': 0, 'caisse': 0 }\n\n    solde[\"banque_max\"] = this.gauges.banque_max;\n    solde[\"caisse_max\"] = this.gauges.caisse_max;\n\n    if (prec_month_fj) {\n      let solde_prec_month_fj = this.fjService.getSoldeFJ(prec_month_fj)\n      solde.banque = solde_prec_month_fj.banque\n      solde.caisse = solde_prec_month_fj.caisse\n      \n      if (this_month_fj) {\n        let solde_this_month_fj = this.fjService.getSoldeFJ(this_month_fj)\n        let this_m_bank = (isNaN(solde_this_month_fj.banque)) ? 0 : solde_this_month_fj.banque;\n        let this_m_caisse = (isNaN(solde_this_month_fj.caisse)) ? 0 : solde_this_month_fj.caisse;\n                \n        solde[\"banque_max\"] = Math.max(10, solde.banque + this_m_bank);\n        solde[\"caisse_max\"] = Math.max(10, solde.caisse + this_m_caisse);\n      } else {\n        //console.log(\"Impossible de trouver la fj de ce mois\")\n      }\n    } else {\n      console.log(\"Impossible de trouver la fj du mois précédent\")\n    }\n\n\n    // maintenant on calcule le solde du mois courant\n    if (this.transactions) {\n      this.transactions.forEach(tr => {\n        let this_month = moment(curr_month);\n        if (this_month.isSameOrBefore(moment(tr.date))) {\n          if (tr.type == 'out') {\n            solde[tr.moyen] -= this.convert(tr.montant, tr.currency);\n          } else if (tr.type == 'in') {\n            solde[tr.moyen] += this.convert(tr.montant, tr.currency);\n          } else if (tr.type == 'retrait') {\n            let v = Math.abs(this.convert(tr.montant, tr.currency));\n            solde.banque -= v;\n            solde.caisse += v;\n          } else if (tr.type == 'depot') {\n            let v = Math.abs(this.convert(tr.montant, tr.currency));\n            solde.banque += v;\n            solde.caisse -= v;\n          } else {\n            console.log(\"la transaction de type \" + tr.type + \" n'est pas reconnue !\")\n          }\n        }\n      });\n    }\n\n    solde[\"pretty_banque\"] = solde.banque.toFixed(2).toString() + \" \" + this.paramService.symbolCurrency();\n    solde[\"pretty_caisse\"] = solde.caisse.toFixed(2).toString() + \" \" + this.paramService.symbolCurrency();\n    this.gauges = solde;\n  }\n\n  // convertit le montant dans la devise courante (définie dans ParamService)\n  convert(montant, currency) {\n    if (!this.paramService.currency) {\n      console.log('WARNING in home.ts > convert : paramService.currency is not defined !')\n      return montant\n    }\n    if (!currency) {\n      console.log(`WARNING in home.ts > convert : transaction currency is not defined ! (montant=${montant}, currency=${currency}, paramService.currency=${this.paramService.currency})`)\n      return montant\n    }\n    return this.currencyService.convert(montant, currency, this.paramService.currency)\n  }\n\n  showParamPage() {\n    this.navCtrl.push(ParamPage);\n    //1this.navCtrl.push(LoginPage);\n  }\n\n  showAjouterPage() {\n    // this.appCtrl.getRootNav().push(Ajouter2Page);\n    let modal = this.modalCtrl.create(Ajouter2Page, { opt: \"optional parameters\" });\n    modal.onDidDismiss(data => {\n      this.updateGauges();\n    });\n    modal.present();\n  }\n\n  enregistrer() {\n    this.trService.set(this.transactions).then(_ => {\n      console.log(\"enregistré !\")\n    }).catch(err => {\n      console.log(err)\n    })\n  }\n\n  closeBienvenue() {\n    this.init.bienvenue_msg = false;\n    this.paramService.setInit(this.init);\n    console.log(\"m\", this.init)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { PdfService } from './pdf.service';\r\nimport { ParamService } from './param.service';\r\nimport { TransactionService } from './transaction.service';\r\nimport { CurrencyService } from './currency.service';\r\n\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\n@Injectable()\r\nexport class FjService {\r\n  private db_fj = \"dbfj\";\r\n  public category_types = {\r\n    'revenus': ['salaire', 'allocation', 'don'],\r\n    'in': [], // all categories_in\r\n    'maison': [],\r\n    'vie_courante': [],\r\n    'transport': [],\r\n    'secretariat': [],\r\n    'dispos_mois': ['salaire', 'allocation', 'don', 'dime', 'autre', 'remboursement_sante', 'remboursement_pro',\r\n                    'remboursement_autre', 'report_mois_precedent', 'avance', 'epargne', 'transfert'],\r\n    'total': [] // total c'est total des sorties\r\n  }\r\n\r\n  constructor(private storage: Storage,\r\n    private pdfService: PdfService,\r\n    private paramService: ParamService,\r\n    private trService: TransactionService,\r\n    private currencyService: CurrencyService) {\r\n\r\n      this.category_types.maison = paramService.categories.filter(cat => cat.type == 'maison').map(cat => cat.id)\r\n      this.category_types.vie_courante = paramService.categories.filter(cat => cat.type == 'vie courante').map(cat => cat.id)\r\n      this.category_types.transport = paramService.categories.filter(cat => cat.type == 'transport').map(cat => cat.id)\r\n      this.category_types.secretariat = paramService.categories.filter(cat => cat.type == 'secretariat').map(cat => cat.id)\r\n      this.category_types.total = paramService.categories.map(cat => cat.id)\r\n      this.category_types.in = paramService.categories_in.map(cat => cat.id).concat(['report_mois_precedent'])\r\n  }\r\n\r\n  setAllFJ(fj_list) {\r\n    // /!\\ be careful using this\r\n    return this.storage.set(this.db_fj, fj_list);\r\n  }\r\n\r\n  raz() {\r\n    return this.setAllFJ([])\r\n  }\r\n\r\n  async getAllFJ() { // renvoie tous les json + metadata de feuilles faunes\r\n    let fj_list = await this.storage.get(this.db_fj);\r\n    if (!fj_list || !fj_list.length) return []\r\n    // on convertit les anciennes FJ dans le nouveau format\r\n    let new_fj_list = this.convertOldfFJ(fj_list)\r\n    return new_fj_list\r\n  }\r\n\r\n  async saveFJ(fj_o, opt) {\r\n    // on récupère toutes les FJ existantes\r\n    let fj_list = await this.getAllFJ()\r\n    console.log(\"going to save fjdata_plus: \",fj_o)\r\n    console.log(\"already existing FJs: \", fj_list)\r\n\r\n    // on ajoute la nouvelle FJ à la liste (en remplaçant éventuellement si déjà existante)\r\n    let already_exists = _.find(fj_list, { 'month': fj_o.month })\r\n    if (already_exists) {\r\n      if (opt.already_exists) {\r\n        console.log(\"une feuille jaune du mois de \" + fj_o.month + \" existe déjà, on overwrite \")\r\n        fj_list = _.reject(fj_list, {'month': fj_o.month})\r\n        fj_list.push(fj_o)\r\n      } else { // TODO gérer de manière plus cool avec un prompt\r\n        console.log(\"une feuille jaune du mois de \" + fj_o.month + \" existe déjà : \", already_exists);\r\n        throw {err: \"une feuille jaune du mois de \" + fj_o.month + \" existe déjà\"}\r\n      }\r\n    } else { // si la feuille jaune n'existe pas déjà\r\n      fj_list.push(fj_o)\r\n    }\r\n\r\n    // on écrit la nouvelle liste de FJ sur disque\r\n    return this.setAllFJ(fj_list)\r\n  }\r\n\r\n  saveFJ_old(fjdata, opt) {\r\n    // TODO delete this function\r\n    /* return new Promise((resolve, reject) => {\r\n      this.getAllFJ().then(data => {\r\n        console.log(\"going to save fjdata_plus: \",fjdata);\r\n        console.log(\"already existing FJs: \", data);\r\n        if (!data || !data.length) data = [];\r\n        let already_exists = _.find(data, { 'month': fjdata.month });\r\n        if (already_exists) { // TODO gérer de manière plus cool avec un prompt\r\n          if (!opt.already_exists) {\r\n            console.log(\"une feuille jaune du mois de \" + fjdata.month + \" existe déjà : \", already_exists);\r\n            reject(\"une feuille jaune du mois de \" + fjdata.month + \" existe déjà\")\r\n          } else {\r\n            console.log(\"une feuille jaune du mois de \" + fjdata.month + \" existe déjà, on overwrite \");\r\n            data = _.reject(data, {'month': fjdata.month});\r\n            data.push(fjdata);\r\n          }\r\n        } else {\r\n          data.push(fjdata);\r\n        }\r\n        this.storage.set(this.db_fj, data).then(res => {\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      }).catch(err => {\r\n        reject(err)\r\n      })\r\n    }) */\r\n  }\r\n\r\n  async deleteFJ(fj_list_tobedel) {\r\n    let list_months = _.map(fj_list_tobedel, 'month');\r\n    let fj_list = await this.getAllFJ()\r\n    if (!fj_list || !fj_list.length) return \"ok\";\r\n    let newdata = _.reject(fj_list, (o) => (list_months.indexOf(o.month) > -1))\r\n    console.log(\"new fj_list will be: \", newdata);\r\n    return this.setAllFJ(newdata)\r\n  }\r\n\r\n  deleteFJ_old(fj_list) { // array des objets fj\r\n    // TODO delete this function\r\n    /* let list_months = _.map(fj_list, 'month');\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.getAllFJ().then(data => {\r\n        if (!data || !data.length) resolve(\"ok\");\r\n        else {\r\n          let newdata = _.reject(data, (o) => {\r\n            return (list_months.indexOf(o.month) > -1);\r\n          });\r\n          console.log(\"new fj_list will be: \", newdata);\r\n          this.storage.set(this.db_fj, newdata).then(res => {\r\n            resolve(res)\r\n          }).catch(err => {\r\n            reject(err)\r\n          })\r\n        }\r\n      }).catch(err => {\r\n        reject(err)\r\n      })\r\n    }) */\r\n  }\r\n\r\n  async shareFJ(month) {\r\n    // on récupère les données de la feuille jaune\r\n    let fj_o = await this.getFjData(month)\r\n    if (!fj_o) return\r\n\r\n    // on calcule les totaux et on les stocke dans fj_o\r\n    let totaux = this.genSousTotaux(fj_o)\r\n    console.log('totaux = ', totaux)\r\n    for (let curr in totaux) {\r\n      fj_o.data[curr]['soustotaux'] = totaux[curr]\r\n    }\r\n\r\n    // on crée le(s) PDF(s)\r\n    let pdf_paths = await this.pdfService.createFJPDF(fj_o)\r\n\r\n    // on les partage\r\n    let res = await this.pdfService.shareFJ(pdf_paths)\r\n    return res\r\n  }\r\n\r\n  shareFJ_old(month) { // month should have format YYYY-MM\r\n    /* let opt = {\r\n      'personne': this.paramService.personne,\r\n      'maison': this.paramService.maison,\r\n      'curr_month': month,\r\n      'filename': 'feuillejaune.pdf'\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.getAllFJ().then(data => {\r\n        let myfj = _.find(data, { 'month': month });\r\n        if (myfj) {\r\n          this.pdfService.createPdf(myfj.data, opt).then((pdf) => {\r\n            let blob = new Blob([pdf], { type: 'application/pdf' });\r\n            this.pdfService.shareFJ(blob, opt).then(res => {\r\n              resolve(res)\r\n            }).catch(err => {\r\n              reject(err)\r\n            })\r\n          }).catch(err => {\r\n            reject(err)\r\n          })\r\n        } else {\r\n          reject(\"Pas de feuille jaune pour le mois de \" + month + \" dans la db :(\")\r\n        }\r\n      }).catch(err => {\r\n        console.log(\"Error retrieving all fj from db : \", err);\r\n        reject(err)\r\n      })\r\n    }) */\r\n  }\r\n\r\n  // renvoie le mois pour lequel doit être émise la prochaine nouvelle FJ\r\n  // il s'agit du mois suivant la dernière FJ émise (on n'a pas le droit de sauter un mois)\r\n  async getMonthOfNewFJ() {\r\n    let fj_list = await this.getAllFJ()\r\n\r\n    if (!fj_list || !fj_list.length) {\r\n      // on renvoie le mois le plus ancien parmi les transactions\r\n      let tr_list = await this.trService.getAll()\r\n      if (!tr_list || !tr_list.length) return {date: 'unknown', label: 'UNKNOWN'}\r\n      let date_list = tr_list.map(tr => tr.date).sort((d1, d2) => {\r\n        if (moment(d1, 'YYYY-MM-DD').isBefore(moment(d2, 'YYYY-MM-DD'))) return -1;\r\n        return 1\r\n      })\r\n      let label = moment(date_list[0]).format('MMMM YYYY')\r\n      label = label[0].toUpperCase() + label.substr(1)\r\n      return {date: moment(date_list[0]).format('YYYY-MM') + '-01', label}\r\n    }\r\n\r\n    // sinon on renvoie le mois qui suit la fj plus récente\r\n    let date_list = fj_list.sort((fj1, fj2) => {\r\n      if (moment(fj1.month, 'YYYY-MM-DD').isBefore(moment(fj2.month, 'YYYY-MM-DD'))) return 1;\r\n      return -1\r\n    }).map(fj => fj.month)\r\n    let madate = moment(date_list[0]).add(1, 'months')\r\n    let label = madate.format('MMMM YYYY')\r\n    label = label[0].toUpperCase() + label.substr(1)\r\n    return {date: madate.format('YYYY-MM') + '-01', label}\r\n  }\r\n\r\n  // ===================================================================\r\n  //            GENERER LES DONNEES FJ POUR UN MOIS DONNE\r\n  // ===================================================================\r\n\r\n  // cette fonction renvoie les données de la feuille jaune du mois @month si elle existe\r\n  // renvoie null si la feuille jaune du mois @month n'existe pas\r\n  async getFjData(month) {\r\n    month = this.paramService.toMoment(month).format('YYYY-MM') + '-01'\r\n    let fj_list = await this.getAllFJ()\r\n    return fj_list.find(fj => fj.month == month)\r\n  }\r\n\r\n  // cette fonction génère les données de la feuille jaune du mois @month\r\n  async genFjData(month) {\r\n    // 0. on convertit month en objet moment\r\n    month = this.paramService.toMoment(month)\r\n\r\n    // 1. on prépare l'objet fj\r\n    let fj = {\r\n      personne: this.paramService.personne,\r\n      maison: this.paramService.maison,\r\n      month: month.format('YYYY-MM') + '-01',\r\n      data: {} // data['EUR'] = {...fjdata in EUR}\r\n    }\r\n\r\n    // 2. on récupère la liste des devises de ce mois\r\n    let currencies = await this.getFjMonthCurrencies(month) // ['EUR', 'ILS']\r\n\r\n    // 3. pour chaque devise, on génère les données fj\r\n    for (let currency of currencies) {\r\n      // TODO optimiser ça en parallelisant l'exécution\r\n      let fj_curr = await this.genFjDataCurrency(month, currency)\r\n      fj.data[currency] = fj_curr\r\n    }\r\n\r\n    return fj\r\n  }\r\n\r\n  // renvoie la liste des devises de la nouvelle FJ du mois month\r\n  // e.g. ['EUR', 'ILS']\r\n  async getFjMonthCurrencies(month) {\r\n    // on récupère les devises des transactions du mois @month\r\n    let currencies = await this.trService.getMonthCurrencies(month)\r\n    // on récupère la dernière FJ\r\n    let last_fj = await this.getFjLastMonth(month)\r\n    if (last_fj) {\r\n      // on regarde pour chaque devise de la dernière FJ, s'il y avait un solde non nul\r\n      let fj_currencies = Object.getOwnPropertyNames(last_fj.data)\r\n      let last_totaux = this.genSousTotaux(last_fj)\r\n      for (let curr of fj_currencies) {\r\n        // si le solde est non nul et que la devise n'existe pas dans currencies, on ajoute la devise\r\n        if ((last_totaux[curr].solde.banque != 0 || last_totaux[curr].solde.caisse != 0) && !currencies.includes(curr)) {\r\n          currencies.push(curr)\r\n        }\r\n      }\r\n    }\r\n    return currencies\r\n  }\r\n\r\n  // fonction auxiliaire de genFjData, ne pas utiliser indépendamment\r\n  // month doit être un objet moment\r\n  async genFjDataCurrency(month, currency) {\r\n    // 0. on prépare l'objet fj_curr\r\n    let fj_curr = this.initFjCategories()\r\n\r\n    // 1. on insère les reports de la fj du mois précédent si elle existe\r\n    let last_fj = await this.getFjLastMonth(month)\r\n    let last_totaux = this.genSousTotaux(last_fj)\r\n    if (last_fj && last_totaux[currency]) {\r\n      fj_curr['report_mois_precedent'].banque = last_totaux[currency].solde.banque\r\n      fj_curr['report_mois_precedent'].caisse = last_totaux[currency].solde.caisse\r\n    }\r\n    \r\n    // 2. on calcule les montants par catégorie\r\n    let tr_list = await this.trService.getTransactions(month, currency)\r\n    for (let cat of Object.getOwnPropertyNames(fj_curr)) {\r\n      let tr_list_cat = tr_list.filter(tr => tr.category == cat)\r\n      if (tr_list_cat && tr_list_cat.length) {\r\n        fj_curr[cat].banque = _.sum(tr_list_cat.filter(tr => tr.moyen == 'banque').map(tr => tr.montant*100))/100\r\n        fj_curr[cat].caisse = _.sum(tr_list_cat.filter(tr => tr.moyen == 'caisse').map(tr => tr.montant*100))/100\r\n      }\r\n    }\r\n\r\n    return fj_curr\r\n  }\r\n\r\n  genSousTotaux(fj_o, currency = null) {\r\n    if (currency === null) {\r\n      let o = {}\r\n      for (let curr in fj_o.data) {\r\n        let t = this.genSousTotaux(fj_o, curr)\r\n        o[curr] = t\r\n      }\r\n      return o\r\n    }\r\n\r\n    let totaux = {}\r\n    for (let cat_type in this.category_types) {\r\n      let somme = this.soustotal(fj_o, currency, cat_type)\r\n      totaux[cat_type] = {\r\n        banque: somme.banque,\r\n        caisse: somme.caisse\r\n      }\r\n    }\r\n    totaux['solde'] = this.soustotal(fj_o, currency, 'solde')\r\n    return totaux\r\n  }\r\n\r\n  // renvoie le soustotal de la meta-catégorie @cat_type uniquement dans la @currency (pas de conversion s'il y a d'autres devises dans la FJ)\r\n  soustotal(fj_o, currency, cat_type = null) {\r\n    fj_o.data[currency].transfert.caisse = -fj_o.data[currency].transfert.banque\r\n\r\n    // cas spécial du solde\r\n    if (cat_type == 'solde') {\r\n      let somme_in = this.soustotal(fj_o, currency, 'in')\r\n      let somme_total = this.soustotal(fj_o, currency, 'total')\r\n      return {\r\n        banque: (somme_in.banque - somme_total.banque).toFixed(2),\r\n        caisse: (somme_in.caisse - somme_total.caisse).toFixed(2)\r\n      }\r\n    }\r\n\r\n    // tous les autres cas\r\n    let filtered_values = this.paramService.values(fj_o.data[currency], true)\r\n    if (cat_type && this.category_types[cat_type]) {\r\n      let type_list = this.category_types[cat_type]\r\n      filtered_values = filtered_values.filter(el => type_list.includes(el.id))\r\n    }\r\n    let somme = {\r\n      banque: _.sum(filtered_values.map(el => el.banque*100))/100,\r\n      caisse: _.sum(filtered_values.map(el => el.caisse*100))/100\r\n    }\r\n    return somme\r\n  }\r\n\r\n  // renvoie la feuille jaune du mois juste avant curr_month si elle existe\r\n  // ou celle du mois précédent le plus proche si le mois juste avant n'existe pas\r\n  // ou null s'il n'y a aucun fj existante\r\n  async getFjLastMonth(curr_month) {\r\n    curr_month = this.paramService.toMoment(curr_month)\r\n    let fj_list = await this.getAllFJ()\r\n    if (!fj_list || !fj_list.length) return null;\r\n    fj_list = fj_list.sort((fj1, fj2) => {\r\n      let diff_months1 = moment(fj1.month, 'YYYY-MM-DD').diff(curr_month, 'months')\r\n      let diff_months2 = moment(fj2.month, 'YYYY-MM-DD').diff(curr_month, 'months')\r\n      if (diff_months1 >= 0) return 10000;\r\n      if (diff_months2 >= 0) return -10000;\r\n      return diff_months2 - diff_months1\r\n    })\r\n    return fj_list[0]\r\n  }\r\n\r\n  // fonction auxiliaire de genFjDataCurrency\r\n  // renvoie une structure vide de données de fj\r\n  // si old_fj_data est spécifié (données fj dans l'ancien format) on reporte les données\r\n  initFjCategories(old_fj_data = null) {\r\n    let category_list = {}\r\n    try {\r\n      category_list = {\r\n        'report_mois_precedent': {\r\n          banque: (old_fj_data) ? parseFloat(old_fj_data.report_mois_precedent.banque) :0,\r\n          caisse: (old_fj_data) ? parseFloat(old_fj_data.report_mois_precedent.caisse) :0,\r\n          observations: (old_fj_data) ? old_fj_data.report_mois_precedent.observations :'',\r\n        }\r\n      }\r\n    } catch(e) {\r\n      throw {fun: 'ERROR in fj.service > initFjCategories', args: old_fj_data, err: e}\r\n    }\r\n\r\n    for (let cat of this.paramService.categories) {\r\n      category_list[cat.id] = {\r\n        banque: (old_fj_data) ? parseFloat(old_fj_data[cat.id].banque) :0,\r\n        caisse: (old_fj_data) ? parseFloat(old_fj_data[cat.id].caisse) :0,\r\n        observations: (old_fj_data) ? old_fj_data[cat.id].observations :''\r\n      }\r\n    }\r\n    for (let cat of this.paramService.categories_in) {\r\n      category_list[cat.id] = {\r\n        banque: (old_fj_data) ? parseFloat(old_fj_data[cat.id].banque) :0,\r\n        caisse: (old_fj_data) ? parseFloat(old_fj_data[cat.id].caisse) :0,\r\n        observations: (old_fj_data) ? old_fj_data[cat.id].observations :''\r\n      }\r\n    }\r\n\r\n    return category_list\r\n  }\r\n\r\n  // ===================================================================\r\n  //            HELPER FUNCTIONS\r\n  // ===================================================================\r\n\r\n  // renvoie le solde archi-total de la feuille jaune fj dans la devise @devise (en convertissant si besoin les autres devises)\r\n  getSoldeFJ(fj, devise = null) {\r\n    if (!devise) devise = this.paramService.currency\r\n    return this.getMontantFJCore(fj, devise, 'solde')\r\n  }\r\n  // renvoie le total archi-total :) des dépenses de la feuille jaune fj dans la devise @devise (en convertissant si besoin les autres devises)\r\n  getTotalFJ(fj, devise = null) {\r\n    if (!devise) devise = this.paramService.currency\r\n    return this.getMontantFJCore(fj, devise, 'total')\r\n  }\r\n  getMontantFJCore(fj, devise, field) {\r\n    try {\r\n      let totaux = this.genSousTotaux(fj)\r\n      let somme = {\r\n        banque: 0,\r\n        caisse: 0,\r\n        bc: 0\r\n      }\r\n      for (let currency in totaux) {\r\n        somme.banque += this.currencyService.convert(totaux[currency][field].banque, currency, devise)\r\n        somme.caisse += this.currencyService.convert(totaux[currency][field].caisse, currency, devise)\r\n      }\r\n      somme.bc = somme.banque + somme.caisse\r\n      return somme\r\n    } catch(e) {\r\n      throw {\r\n        fun: `in fj.service > getMontantFJCore`,\r\n        param: {fj, devise, field},\r\n        err: e\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===================================================================\r\n  //            GESTION DE L'ANCIEN FORMAT DE FJ\r\n  // ===================================================================\r\n\r\n  // renvoie true si fj est une fj dans l'ancien format\r\n  isOldFj(fj) {\r\n    let fields = Object.getOwnPropertyNames(fj.data)\r\n    return fields.map(f => this.paramService.isCurrency(f) < 0).reduce((a,b) => a || b, false)\r\n  }\r\n\r\n  // convertit les fj dans @fj_list dans le nouveau format si besoin\r\n  convertOldfFJ(fj_list) {\r\n    let self = this\r\n    function convert(fj) {\r\n      if (self.isOldFj(fj)) {\r\n        let new_fj = {\r\n          personne: fj.personne,\r\n          maison: fj.maison,\r\n          month: fj.month,\r\n          data: {}\r\n        }\r\n        new_fj.data[fj.currency] = self.initFjCategories(fj.data)\r\n        return new_fj\r\n      }\r\n      return fj\r\n    }\r\n    return fj_list.map(convert)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fj.service.ts","export const currency_api_key = '2659119d03e208f036e49bd71fd1c6ef'\r\nexport const googlesearch_api_key = 'AIzaSyDgR7geKq0faSort2zVVFyxgHTIPsIZL34'\n\n\n// WEBPACK FOOTER //\n// ./src/arcana/apis_config.ts","import { Injectable } from '@angular/core';\r\nimport { ToastController, Platform } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\nimport { SocialSharing } from '@ionic-native/social-sharing';\r\nimport { FileChooser } from '@ionic-native/file-chooser';\r\nimport { FilePath } from '@ionic-native/file-path';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\r\nimport { Diagnostic } from '@ionic-native/diagnostic';\r\n\r\nimport { ParamService } from './param.service';\r\nimport { TransactionService } from './transaction.service';\r\nimport { FjService } from './fj.service';\r\n\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\n@Injectable()\r\nexport class ExportService {\r\n  private dbfilename: string = \"feuillejaune_db.json\";\r\n\r\n  constructor(public toastCtrl: ToastController,\r\n    public plt: Platform,\r\n    private storage: Storage,\r\n    private paramService: ParamService,\r\n    private trService: TransactionService,\r\n    private fjService: FjService,\r\n    private file: File,\r\n    private socialSharing: SocialSharing,\r\n    private fileChooser: FileChooser,\r\n    private filePath: FilePath,\r\n    private androidPermissions: AndroidPermissions,\r\n    private diagnostic: Diagnostic) {\r\n\r\n  }\r\n\r\n  showToast(msg) {\r\n    let toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async exportDB() {\r\n    let db = await this.db2json()\r\n    let data = JSON.stringify(db, null, '\\t');\r\n\r\n    if (this.plt.is('android') && !this.plt.is('mobileweb')) {\r\n      return this.exportDB_android(data)\r\n    } else {\r\n      this.downloadBrowser(data);\r\n      return \"Browser download started...\"\r\n    }\r\n  }\r\n\r\n  async exportDB_android(data) {\r\n    await this.coolWrite(this.file.dataDirectory, this.dbfilename, data)\r\n    try {\r\n      await this.socialSharing.share(\"\", \"Export db Feuille Jaune\", this.file.dataDirectory + \"/\" + this.dbfilename)\r\n      return \"Base de données exportée ! Merci Seigneur de prendre soin de nous !\"\r\n    } catch(e) {\r\n      if (e === false) return \"Base de données exportée ! Merci Seigneur de prendre soin de nous !\"\r\n      else throw e\r\n    }\r\n  }\r\n\r\n  async importDB() {\r\n    if (this.plt.is('cordova') && this.plt.is('android')) {\r\n      return this.importDB_android()\r\n    } else if (this.plt.is('windows') || this.plt.is('core')) {\r\n      console.log(\"It's a browser, not supported directly by export service, only by the calling component\");\r\n      throw \"It's a browser, not supported directly by export service, only by the calling component\"\r\n    } else {\r\n      alert(\"Platform \" + JSON.stringify(this.plt.platforms) + \" not recognized :(\")\r\n      throw \"Platform \" + JSON.stringify(this.plt.platforms) + \" not recognized :(\"\r\n    }\r\n  }\r\n\r\n  async importDB_android() {\r\n    let uri = await this.fileChooser.open() // renvoie une URL du type content://...\r\n    uri = await this.filePath.resolveNativePath(uri) // transforme une URL content://... en file:///...\r\n    let name = uri.split('/').reverse()[0];\r\n    let path = uri.substring(0, uri.length - name.length);\r\n\r\n    let file_exists = await this.file.checkFile(path, name);\r\n    if (!file_exists) throw 'Sorry but the chosen file doesn\\'t exist...'\r\n    console.log(\"uri fichier: \", uri, name, path);\r\n    return this.readDB(path, name)\r\n\r\n    /* let res = {hasPermission: false}\r\n    try {\r\n      res = await this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE)\r\n    } catch(e) {\r\n      res = await this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE])\r\n      if (res.hasPermission) return this.readDB(path, name)\r\n      else throw \"Je n'a pas la permission d'ouvrir ce fichier...\"\r\n    }\r\n\r\n    if (res.hasPermission) {\r\n      alert('I have all permissions, now reading...')\r\n      return this.readDB(path, name)\r\n    } else {\r\n      let res = await this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE])\r\n      alert(\"ok permissions ? \" + JSON.stringify(res))\r\n      if (res.hasPermission) {\r\n        alert(\"ok permission \" + res.hasPermission);\r\n        return this.readDB(path, name)\r\n      } else {\r\n        throw \"Je n'ai pas la permission d'ouvrir ce fichier :(\"\r\n      }\r\n    } */\r\n\r\n  }\r\n\r\n  async readDB(path, name) {\r\n    let data = await this.file.readAsText(path, name)\r\n    return this.importDBcore(JSON.parse(data))\r\n  }\r\n\r\n  async importDBcore(db) {\r\n    if (!this.isValidDB(db)) return;\r\n    let plist = []\r\n    plist.push(this.paramService.setMaison(db.param.maison))\r\n    plist.push(this.paramService.setPersonne(db.param.personne))\r\n    plist.push(this.paramService.setCurrency(db.param.currency))\r\n    plist.push(this.trService.set(this.fixTransactions(db.transaction)))\r\n    //this.fjService.setAllFJ(this.fixFJ(db.fj)); // TODO delete this line\r\n    plist.push(this.fjService.setAllFJ(db.fj))\r\n    let results = await Promise.all(plist)\r\n    this.showToast('Base de données chargée, béni soit le nom du Seigneur !')\r\n    return 1\r\n  }\r\n\r\n  fixTransactions(tr_list) {\r\n    // convertit les transactions de la version <= 0.9.4 vers la version 0.10.0\r\n    // la différence est qu'il y a un champs 'currency' en plus à partir de la version 0.10.0\r\n    // du coup pour convertir on convertit tout en paramService.currency (ou en euros si ce n'ets pas défini)\r\n    let curr:string = (this.paramService.currency) ? this.paramService.currency : 'EUR';\r\n    return tr_list.map(tr => {\r\n      if (!tr.currency) tr.currency = curr;\r\n      return tr\r\n    })\r\n  }\r\n\r\n  isValidDB(o) {\r\n    let res = true;\r\n    res = res && o.param && o.transaction && o.fj;\r\n    res = res && o.param.maison && o.param.personne;\r\n    // TODO\r\n    return res;\r\n  }\r\n\r\n  async db2json() {\r\n    let db = { 'param': {}, 'transaction': [], 'fj': [] };\r\n    db.param = {\r\n      'personne': this.paramService.personne,\r\n      'maison': this.paramService.maison,\r\n      'currency': this.paramService.currency\r\n    }\r\n\r\n    // on sauvegarde toutes les transactions\r\n    let tr_list = await this.trService.getAll()\r\n    if (typeof tr_list == 'object' && tr_list.length) {\r\n      db.transaction = _.orderBy(tr_list, ['date'], ['desc']);\r\n    } else {\r\n      console.log(\"Le format de la base de transactions n'est pas bon ou la base est vide, on utilise du coup une base vide\");\r\n      db.transaction = [];\r\n    }\r\n\r\n    // on sauvegarde toutes les FJ\r\n    let fj_list = await this.fjService.getAllFJ()\r\n    db.fj = fj_list;\r\n    if (!fj_list || !fj_list.length) db.fj = [];\r\n    db.fj = _.sortBy(db.fj, [(o) => { return o.month }])\r\n    return db\r\n  }\r\n\r\n  downloadBrowser(text) {\r\n    var element = document.createElement('a');\r\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\r\n    element.setAttribute('download', this.dbfilename);\r\n\r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  }\r\n\r\n  async coolWrite(path, filename, blob) {\r\n    let exists = false\r\n    try {\r\n      exists = await this.file.checkFile(path, filename)\r\n    } catch(e) {\r\n      console.log(\"Impossible de vérifier l'existence du fichier \" + path + \"/\" + filename)\r\n      return this.file.writeFile(path, filename, blob, {replace:true})\r\n    }\r\n    \r\n    if (exists) {\r\n      await this.file.removeFile(path, filename)\r\n      return this.file.writeFile(path, filename, blob, {replace:true})\r\n    }\r\n    return this.file.writeFile(path, filename, blob, {replace:true})\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/export.service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, AlertController, ModalController } from 'ionic-angular';\n\nimport { ParamService } from '../../services/param.service';\nimport { FjService } from '../../services/fj.service';\n\nimport { ParamPage } from '../param/param';\nimport { FjgenPage } from '../fjgen/fjgen';\nimport { FjactionsPage } from '../fjactions/fjactions';\nimport { FjDetailsPage } from '../fj-details/fj-details';\n\nimport _ from 'lodash';\n\n\n@Component({\n  selector: 'page-fjmgmt',\n  templateUrl: 'fjmgmt.html',\n})\nexport class FjmgmtPage {\n  private fj_list;\n  private multiple_selection: boolean = false; // pour afficher ou non les checkbox de sélection multiple\n  private selected_fj = [];\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private toastCtrl: ToastController,\n    private alertCtrl: AlertController,\n    private modalCtrl: ModalController,\n    public paramService: ParamService,\n    public fjService: FjService) {\n    this.reload();\n  }\n\n  ionViewDidLoad() {\n    console.log('FjmgmtPage: Le Seigneur est mon berger, je ne manque de rien !');\n  }\n\n  ionViewDidEnter() {\n    this.reload();\n  }\n\n  reload() {\n    this.fjService.getAllFJ().then(data => {\n      this.fj_list = data;\n      if (!data || !data.length) this.fj_list = [];\n      this.fj_list = _.sortBy(this.fj_list, [(o) => { return o.month }])\n    }).catch(err => {\n      console.log(\"Error retrieving list of FJs : \", err)\n    })\n  }\n\n  presentToast(msg, temps = 2000) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: temps\n    });\n    toast.present();\n  }\n\n  showCheckboxes() { // affiche les checkbox pour sélectionner plusieurs feuilles jaunes\n    this.multiple_selection = !this.multiple_selection;\n  }\n\n  showFjPage() {\n    if (!this.paramService.personne) {\n      this.presentToast(\"Il faut spécifier une personne dans les paramètres\");\n      this.navCtrl.push(ParamPage);\n      return\n    } else if (!this.paramService.maison) {\n      this.presentToast(\"Il faut spécifier une maison dans les paramètres\");\n      this.navCtrl.push(ParamPage);\n      return\n    }\n    this.navCtrl.push(FjgenPage);\n  }\n\n  selectFJ(fj) {\n    // sélectionne une fj (checkbox)\n    if (!this.isSelected(fj)) this.selected_fj.push(fj);\n  }\n\n  unselectFJ(fj) {\n    // déselectionne une fj (checkbox)\n    this.selected_fj = _.reject(this.selected_fj, (o) => {\n      return o.month == fj.month\n    })\n  }\n\n  isSelected(fj) { // checks if the fj in input has been selected\n    let res = _.find(this.selected_fj, (o) => {\n      return o.month == fj.month;\n    });\n    return res !== undefined;\n  }\n\n  supprFJ() {\n    let alert = this.alertCtrl.create({\n      title: 'Supprimer',\n      message: 'Veux-tu vraiment supprimer les feuilles jaunes sélectionnées ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('Suppression des feuilles jaunes annulée.');\n          }\n        },\n        {\n          text: 'Supprimer',\n          handler: () => {\n            console.log('Suppression des feuilles jaunes ', this.selected_fj);\n            this.supprFJcore();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  supprFJcore() {\n    this.fj_list = _.xorBy(this.fj_list, this.selected_fj, 'month');\n    this.fjService.deleteFJ(this.selected_fj).then(res => {\n      console.log(\"deleted successfully ! Grazie Signore !\", res)\n    }).catch(err => {\n      console.log(\"Error deleting FJ\", err)\n    });\n    this.selected_fj = [];\n    this.multiple_selection = false;\n  }\n\n  showFJActions(fj) { // montre la modal window pour choisir une action relative à la feuille jaune cliquée\n    /* let modalActions = this.modalCtrl.create(FjactionsPage, { \"fj\": fj });\n    modalActions.onDidDismiss(data => {\n      this.reload();\n    });\n    modalActions.present(); */\n    this.navCtrl.push(FjDetailsPage, {\"fj\": fj});\n  }\n\n  showParamPage() {\n    this.navCtrl.push(ParamPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/fjmgmt/fjmgmt.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, AlertController, ToastController } from 'ionic-angular';\n\nimport { FjgenPage } from '../fjgen/fjgen';\n\nimport { FjService } from '../../services/fj.service';\nimport { ParamService } from '../../services/param.service';\n\nimport moment from 'moment';\n\n/**\n * Generated class for the FjDetailsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-fj-details',\n  templateUrl: 'fj-details.html',\n})\nexport class FjDetailsPage {\n  @ViewChild('maison') maison;\n\n  private curr_fj: Object;\n  private fj_currencies: Array<Object>;\n  private loading: boolean = false;\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              private toastCtrl: ToastController,\n              private alertCtrl: AlertController,\n              private fjService: FjService,\n              private paramService: ParamService) {\n\n    this.curr_fj = navParams.get(\"fj\");\n    this.fj_currencies = Object.getOwnPropertyNames(this.curr_fj['data']).map(c => this.paramService.getCurrencyObj(c))\n    console.log('THIS FJ : ', this.curr_fj)\n  }\n\n  get pretty_month() {\n    return moment(this.curr_fj['month'], 'YYYY-MM-DD').format('MMMM YYYY')\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FjDetailsPage Lodato sia il Signore !');\n  }\n\n  ngAfterViewInit() {\n    let bg_img = this.paramService.getPhotoMaison(this.curr_fj['maison'])\n    if (!bg_img) {\n      bg_img = this.paramService.getPhotoMaison(this.curr_fj['maison'])\n    }\n    this.maison.nativeElement.style.backgroundImage = 'url(' + bg_img + ')';\n  }\n\n  presentToast(msg, temps = 2000) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: temps\n    });\n    toast.present();\n  }\n\n  // ouvre la page pour éditer cette Feuile Jaune\n  editFJ(currency) {\n    console.log('edit fj', this.curr_fj['month'], currency)\n    this.navCtrl.push(FjgenPage, {\n      \"month\": this.curr_fj['month'],\n      //currency\n    })\n  }\n\n  shareFJ() {\n    this.loading = true\n    this.fjService.shareFJ(this.curr_fj['month']).then(_ => {\n      this.presentToast(\"Feuille Jaune partagée ! Béni soit le Seigneur, Dieu de l'univers !\");\n      this.loading = false\n    }).catch(err => {\n      this.presentToast(\"Impossible de partager la feuille jaune :(\");\n      console.log(err);\n      this.navCtrl.pop();\n      this.loading = false\n    });\n  }\n\n  supprFJ() {\n    let alert = this.alertCtrl.create({\n      title: 'Supprimer',\n      message: 'Veux-tu vraiment supprimer la feuille jaune de ' + this.curr_fj['month'] + ' ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('Suppression de la feuille jaune annulée.');\n          }\n        },\n        {\n          text: 'Supprimer',\n          handler: () => {\n            console.log('Suppression de la feuille jaune');\n            this.supprFJcore();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  supprFJcore() {\n    this.loading = true;\n    this.fjService.deleteFJ([this.curr_fj]).then(res => {\n      console.log(\"Delete completed !\", res);\n      this.navCtrl.pop();\n      this.loading = false\n    }).catch(err => {\n      console.log(\"Error while deleting :(\", err);\n      this.navCtrl.pop();\n      this.loading = false\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/fj-details/fj-details.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { BudgetPage } from '../budget/budget';\n\nimport { FjService } from '../../services/fj.service';\nimport { TransactionService } from '../../services/transaction.service';\nimport { ParamService } from '../../services/param.service';\nimport { CurrencyService } from '../../services/currency.service';\n\nimport { Chart } from 'chart.js';\nimport moment from 'moment';\nimport _ from 'lodash';\n\n\n\n@Component({\n  selector: 'page-charts',\n  templateUrl: 'charts.html',\n})\nexport class ChartsPage {\n  @ViewChild('barCanvas') barCanvas;\n  @ViewChild('doughnutCanvas') doughnutCanvas;\n  @ViewChild('lineCanvas') lineCanvas;\n\n  barChart: any;\n  doughnutChart: any;\n  lineChart: any;\n\n  private tr_list: any;\n\n  private repartition_depenses_mois:string;\n  private repartition_depenses_mois_total:string = \"0\";\n  private last_months:any;\n\n  //private mycurrency:string = \"\";\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private fjService: FjService,\n    private paramService: ParamService,\n    private currencyService: CurrencyService,\n    private trService: TransactionService) {\n\n  }\n\n  ionViewDidEnter() {\n    this.reload();\n  }\n\n  getLastMonths() {\n    this.last_months = [];\n    for (let i = 0; i < 7; i++) {\n      let mydate = moment().subtract(i, 'months');\n      this.last_months.push({ 'date': mydate.format(\"YYYY-MM\") + \"-01\", 'label': mydate.format('MMMM YYYY') })\n    }\n  }\n\n  goToHistoPage() {\n    this.navCtrl.push(BudgetPage);\n  }\n\n  reload() {\n    this.trService.getAll().then(trlist => {\n      this.tr_list = trlist;\n      // console.log(\"Transactions loaded ! Grazie Signore !\");\n      this.genDataBarTotalDepensesParMois();\n      this.genDataPie(this.repartition_depenses_mois, 1);\n    }).catch(err => {\n      console.log(\"Impossible de charger les transactions\", err)\n    });\n  }\n\n  genDataPie(mois_ref = \"auto\", nb_mois = 1) {\n    // mois_ref = \"YYYY-MM-DD\"\n    // genere les données de répartition des dépenses sur les nb_mois derniers mois\n    let categories = ['maison', 'vie courante', 'transport', 'secretariat', 'banque'];\n    let data = [0, 0, 0, 0, 0];\n    if (mois_ref == \"auto\") mois_ref = moment().format(\"YYYY-MM-DD\");\n    let date_limit_inf = moment(mois_ref).startOf(\"month\").subtract(nb_mois-1, \"months\");\n    let date_limit_sup = moment(mois_ref).endOf(\"month\");\n\n    this.tr_list.forEach(tr => {\n      let mycat = _.find(this.paramService.categories, { 'id': tr.category });\n      if (mycat && mycat.type) {\n        mycat = mycat.type;\n        if (tr.type === 'out' && date_limit_inf.isSameOrBefore(tr.date) && moment(tr.date).isSameOrBefore(date_limit_sup) && categories.indexOf(mycat) > -1) {\n          data[categories.indexOf(mycat)] += this.currencyService.convert(tr.montant, tr.currency);\n        }\n      }\n    });\n\n    this.repartition_depenses_mois_total = _.sum(data).toFixed(2).toString();\n\n    this.genPie(categories, data)\n  }\n\n  genPie(labels, data) {\n    this.doughnutChart = new Chart(this.doughnutCanvas.nativeElement, {\n\n      type: 'doughnut',\n      data: {\n        labels: labels,\n        datasets: [{\n          label: this.paramService.currency,\n          data: data,\n          backgroundColor: [\n            'rgba(255, 99, 132, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(255, 206, 86, 0.2)',\n            'rgba(75, 192, 192, 0.2)',\n            'rgba(153, 102, 255, 0.2)',\n            // 'rgba(255, 159, 64, 0.2)'\n          ],\n          hoverBackgroundColor: [\n            \"#FF6384\",\n            \"#36A2EB\",\n            \"#FFCE56\",\n            \"#FF6384\",\n            \"#36A2EB\",\n            \"#FFCE56\"\n          ]\n        }]\n      }\n\n    });\n  }\n\n  genDataBarTotalDepensesParMois(nb_mois = 6) {\n    // genere les données du total dépensé chaque mois sur les nb_mois derniers mois\n    let labels = [];\n    let data = [];\n\n    // on calcule la prévision de dépenses pour le mois courant si on n'a pas de feuille jaune associée\n    let date_start = moment().startOf('month');\n    let date_end = moment().endOf('month');\n    let currmonth_montant = this.tr_list.map(e => {\n      let m = moment(e.date, 'YYYY-MM-DD');\n      if (e.type == 'out' && m.isSameOrBefore(date_end) && m.isSameOrAfter(date_start)) return this.currencyService.convert(e.montant, e.currency);\n      return 0;\n    }).reduce((a,b) => a+b, 0)\n\n    this.fjService.getAllFJ().then(fj_list => {\n      for (let i = 0; i < 7; i++) {\n        let mydate = moment().subtract(i, 'months');\n        labels.push(mydate.format('MMM YY'));\n        let res = _.find(fj_list, { 'month': mydate.format(\"YYYY-MM\") + \"-01\" });\n        if (res) {\n          let total = this.fjService.getTotalFJ(res)\n          data.push(total.bc);\n        } else if (!res && i == 0) {\n          data.push(currmonth_montant)\n        } else {\n          // TODO renvoyer this.trService.getTotalDepensesMonth(mydate) au lieu de 0, (but first, I have to transform this fun in an async fun)\n          data.push(0)\n        }\n      }\n      labels = labels.reverse();\n      data = data.reverse();\n      // console.log(\"Bar chart data : \", labels, data);\n      this.genBarTotalDepensesParMois(labels, data)\n    }).catch(err => {\n      console.log(\"Impossible de récupérer la liste des feuilles jaunes :(\")\n    });\n  }\n\n  genBarTotalDepensesParMois(labels, data) {\n    this.barChart = new Chart(this.barCanvas.nativeElement, {\n\n      type: 'bar',\n      data: {\n        labels: labels,\n        datasets: [{\n          label: this.paramService.currency,\n          data: data,\n          backgroundColor: [\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(54, 162, 235, 0.8)'\n          ],\n          borderColor: [\n            'rgba(54, 162, 235, 1)',\n            'rgba(54, 162, 235, 1)',\n            'rgba(54, 162, 235, 1)',\n            'rgba(54, 162, 235, 1)',\n            'rgba(54, 162, 235, 1)',\n            'rgba(54, 162, 235, 1)',\n            'rgba(54, 162, 235, 1)'\n          ],\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      }\n\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ChartsPage: Heureux l\\'homme qui remet sa vie entre les mains du Père.');\n    this.getLastMonths();\n    //this.mycurrency = this.paramService.symbolCurrency();\n    this.repartition_depenses_mois = this.last_months[0].date;\n    this.reload();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/charts/charts.ts","import { Component } from '@angular/core';\nimport { App, NavController, NavParams, ModalController } from 'ionic-angular';\n\nimport { TransactionService } from '../../services/transaction.service';\n\nimport { Ajouter2Page } from '../ajouter2/ajouter2';\nimport { TrDetailsPage } from '../tr-details/tr-details';\n\nimport _ from 'lodash';\n\n@Component({\n  selector: 'page-budget',\n  templateUrl: 'budget.html',\n})\nexport class BudgetPage {\n  private tr_engine_ready:boolean = false;\n  public transactions;\n  public nb_tr = 0;\n  private modalAddTr;\n  public searchText:string = \"\";\n\n  public filtre_moyen_opt = [{'title': 'Carte bleue', 'val': 'banque'}, {'title': 'Liquide', 'val': 'caisse'}];\n  public filtre_moyen_sel = ['banque', 'caisse'];\n  public filtre_moyen_sel2:string = \"\";\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public modalCtrl: ModalController,\n              public appCtrl: App,\n              public trService: TransactionService) {\n      this.reload();\n  }\n\n  ionViewDidLoad() {\n    console.log('BudgetPage : I cieli e la terra sono pieni della tua gloria o Signore !');\n    this.modalAddTr = this.modalCtrl.create(Ajouter2Page, {opt: \"optional parameters\"});\n    this.modalAddTr.onDidDismiss(data => {\n      this.reload();\n    });\n  }\n\n  ionViewDidEnter() {\n    this.reload();\n  }\n\n  reload() {\n    this.tr_engine_ready = false;\n    this.trService.getAll().then(data => {\n      if (typeof data == 'object' && data.length) {\n        this.transactions = _.orderBy(data, ['date'], ['desc']);\n        this.nb_tr = this.transactions.length;\n      } else {\n        console.log(\"Le format de la base de transactions n'est pas bon ou la base est vide, on utilise du coup une base vide\");\n        this.transactions = [];\n      }\n      this.tr_engine_ready = true;\n    }).catch(err => {\n      console.log(err);\n      console.log(\"On utilise du coup une base vide\");\n      this.transactions = [];\n      this.tr_engine_ready = true;\n    })\n  }\n\n  showDetails(tr) {\n    this.navCtrl.push(TrDetailsPage, {\"tr\": tr});\n  }\n\n  showAjouterPage() {\n    // this.appCtrl.getRootNav().push(Ajouter2Page);\n    this.modalAddTr.present();\n  }\n\n  onInputSearch(e) {\n    // let text = e.data;\n  }\n\n  onFilterMoyenChange(e) {\n    if (this.filtre_moyen_sel.length > 1) this.filtre_moyen_sel2 = \"\";\n    else if (this.filtre_moyen_sel.length) this.filtre_moyen_sel2 = \"@moyen \" + this.filtre_moyen_sel[0];\n    else this.filtre_moyen_sel2 = \"@moyen azeraef\";\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/budget/budget.ts","import { Component, ViewChild } from '@angular/core';\nimport { DomSanitizer} from '@angular/platform-browser'\nimport { NavController, NavParams, AlertController, ToastController } from 'ionic-angular';\n\nimport { TransactionService } from '../../services/transaction.service';\nimport { ParamService } from '../../services/param.service';\nimport { PhotoService } from '../../services/photo.service';\n\nimport { DatePicker } from '@ionic-native/date-picker';\n\nimport moment from 'moment';\nimport * as pik from 'pikaday';\nimport _ from 'lodash';\n\n\n\n\n@Component({\n  selector: 'page-tr-details',\n  templateUrl: 'tr-details.html',\n})\nexport class TrDetailsPage {\n  @ViewChild('myPicker') mypicker;\n  @ViewChild('bigBack') bigBack;\n  private pickerObject: any;\n\n  private processing: boolean = false;\n  private orig_tr: Object;\n  private curr_tr: Object;\n  private icon: string = \"\";\n  private traduction_type = {\n    'in': {\n      'banque': 'Revenu sur mon compte bancaire',\n      'caisse': 'Revenu en cash'\n    }, 'out': {\n      'banque': 'Dépense par carte ou chèque',\n      'caisse': 'Dépense en liquide'\n    }, 'retrait': {\n      'banque': 'Retrait', 'caisse': 'Retrait'\n    }, 'depot': {\n      'banque': \"Dépôt\", 'caisse': \"Dépôt\"\n    }\n  };\n  private pretty: Object = { 'montant': \"0 €\", \"date\": \"\", \"date2\": \"\", \"category\": \"\", 'type': '' };\n  private categories_options = [];\n  private show_choixCategory: boolean = false;\n  private moyen_options = [];\n  private show_choixMoyen: boolean = false;\n  private photo:any = {urlcss: ``};\n\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public alertCtrl: AlertController,\n              public toastCtrl: ToastController,\n              private datePicker: DatePicker,\n              public paramService: ParamService,\n              public photoService: PhotoService,\n              private sanitizer: DomSanitizer,\n              public trService: TransactionService) {\n\n    this.curr_tr = navParams.get(\"tr\");\n    this.orig_tr = JSON.parse(JSON.stringify(this.curr_tr));\n    this.icon = ('icon' in this.curr_tr) ? this.curr_tr['icon'] : this.trService.smartIcon(this.curr_tr);\n    this.pretty['montant'] = this.curr_tr['montant'].toString() + \" \" + this.paramService.symbolCurrency(this.curr_tr['currency']);\n    this.pretty['date'] = moment(this.curr_tr[\"date\"]).fromNow();\n    this.pretty['date2'] = moment(this.curr_tr['date']).format(\"ddd D MMM YYYY\");\n    this.pretty['category'] = this.trService.categoryLabel(this.curr_tr);\n    this.pretty['type'] = this.traduction_type[this.curr_tr['type']][this.curr_tr['moyen']];\n\n    this.categories_options = this.getCatOptions(this.curr_tr['type']);\n\n    this.moyen_options = [{ 'val': 'banque', 'title': 'J\\'ai payé par carte ou chèque', 'icon': 'fa-credit-card' },\n    { 'val': 'caisse', 'title': 'J\\'ai payé en argent liquide', 'icon': 'fa-money' }];\n    if (this.curr_tr['type'] == \"in\") {\n      this.moyen_options = [{ 'val': 'banque', 'title': 'J\\'ai reçu de l\\'argent en banque', 'icon': 'fa-credit-card' },\n      { 'val': 'caisse', 'title': 'J\\'ai reçu de l\\'argent liquide', 'icon': 'fa-money' }]\n    }\n\n  }\n\n  ionViewDidLoad() {\n    console.log('TrDetailsPage : Signore, tu solo hai parole di vita eterna');\n    this.setupDatePicker();\n  }\n\n  ngAfterViewInit() {\n    this.getPhotoBg()\n  }\n\n  getPhotoBg(n = 3) {\n    if (n < 0) return\n    // on récupère une photo pour illustrer\n    this.photoService.randPhoto(this.curr_tr['name']).then(o => {\n      this.photo = o\n      //this.photo.urlcss = this.sanitizer.bypassSecurityTrustStyle('url(' + this.photo.url + ')');\n      if (!this.photo.url) {\n        this.getPhotoBg(n-1)\n      } else {\n        this.bigBack.nativeElement.style.backgroundImage = 'url(' + this.photo.url + ')'\n      }\n    }).catch(e => {\n      console.log('ERROR PHOTO', e)\n    })\n  }\n\n  getCatOptions(type) {\n    let curr_catlist = (type == \"out\") ? this.paramService.categories : this.paramService.categories_in;\n    return _.map(curr_catlist, el => {\n      return { 'val': el.id, 'title': el.label, 'icon': el.icon }\n    });\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  save() {\n    this.processing = true;\n    this.trService.delete(this.orig_tr).then(_ => {\n      this.trService.getAll().then(data => {\n        this.curr_tr['date'] = moment(this.curr_tr['date']).format(\"YYYY-MM-DD\");\n        data.push(this.curr_tr);\n        this.trService.set(data).then(res => {\n          console.log(\"Transaction updated !\");\n          this.presentToast(\"La transaction a été mise à jour, grazie Signore !\")\n          this.processing = false;\n          this.navCtrl.pop();\n        }).catch(err => {\n          console.log(\"Error while updating transaction...\", err)\n          this.processing = false;\n        })\n      }).catch(err => {\n        console.log(\"Error while updating transaction :(\", err);\n        this.processing = false;\n      })\n    }).catch(err => {\n      console.log(\"Error while updating transaction : \", err);\n      this.processing = false;\n    })\n  }\n\n  delete() {\n    let alert = this.alertCtrl.create({\n      title: 'Supprimer',\n      message: 'Veux-tu vraiment supprimer la transaction ?',\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: () => {\n            console.log('Suppression de la transaction annulée.');\n          }\n        },\n        {\n          text: 'Supprimer',\n          handler: () => {\n            this.processing = true;\n            console.log('Suppression de la transaction');\n            this.trService.delete(this.orig_tr).then(_ => {\n              console.log(\"Transaction supprimée !\");\n              this.presentToast(\"La transaction a bien été supprimée ! Thank you O Lord !\")\n              this.processing = false;\n              this.navCtrl.pop();\n            }).catch(err => {\n              console.log(err)\n              this.processing = false;\n            })\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  changeDate() {\n    this.datePicker.show({\n      date: moment(this.curr_tr['date']).toDate(),\n      mode: 'date',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK\n    }).then(\n      date => {\n        console.log('Got date: ', date);\n        this.pickerObject.hide();\n        this.curr_tr[\"date\"] = moment(date).format(\"YYYY-MM-DD\");\n        this.pretty['date'] = moment(this.curr_tr[\"date\"]).fromNow();\n        this.pretty['date2'] = moment(this.curr_tr['date']).format(\"ddd D MMM YYYY\");\n      },\n      err => {\n        console.log('Error occurred while getting date: ', err);\n        console.log(\"Mayb that's because 'm in a browsers, I'll try with the pikaday datepicker...\");\n        this.pickerObject.show();\n      });\n  }\n\n  setupDatePicker() {\n    let field: HTMLDivElement = this.mypicker.nativeElement;\n    let mythis = this;\n    this.pickerObject = new pik({\n      field: this.mypicker.nativeElement,\n      defaultDate: moment(mythis.curr_tr[\"date\"]),\n      onSelect: function(date) {\n        console.log(\"pikaday: \", date);\n        mythis.curr_tr[\"date\"] = moment(date).format(\"YYYY-MM-DD\");\n        mythis.pretty['date'] = moment(date).fromNow();\n        mythis.pretty['date2'] = moment(date).format(\"ddd D MMM YYYY\");\n      },\n      format: 'D MMM YYYY'\n    });\n  }\n\n  showCategoryPrompt() {\n    if (this.curr_tr['type'] == 'in' || this.curr_tr['type'] == 'out')\n      this.show_choixCategory = true;\n  }\n\n  changeCategory() {\n    this.pretty['category'] = this.trService.categoryLabel(this.curr_tr);\n    this.icon = this.trService.smartIcon(this.curr_tr);\n    this.curr_tr['icon'] = this.icon;\n    this.show_choixCategory = false;\n  }\n\n  showMoyenPrompt() {\n    if (this.curr_tr['type'] == 'in' || this.curr_tr['type'] == 'out')\n      this.show_choixMoyen = true;\n  }\n\n  changeMoyen() {\n    this.categories_options = this.getCatOptions(this.curr_tr['type']);\n    this.pretty['type'] = this.traduction_type[this.curr_tr['type']][this.curr_tr['moyen']];\n    this.show_choixMoyen = false;\n  }\n\n  changeMontant() {\n    let alert = this.alertCtrl.create({\n      title: 'Modifier le montant',\n      inputs: [\n        {\n          name: 'montant',\n          placeholder: 'xxx €',\n          value: this.curr_tr['montant'].toString()\n        }\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Modifier',\n          handler: data => {\n            let m = parseFloat(data.montant);\n            if (!isNaN(m)) {\n              this.curr_tr['montant'] = m;\n              this.pretty['montant'] = this.curr_tr['montant'].toString() + \" \" + this.paramService.symbolCurrency();\n            } else {\n              this.presentToast(\"Le montant inséré n'est pas valide !\")\n            }\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tr-details/tr-details.ts","import { Injectable } from '@angular/core';\r\nimport request from 'request';\r\nimport { ParamService } from './param.service';\r\nimport { googlesearch_api_key } from '../arcana/apis_config';\r\n\r\n\r\n@Injectable()\r\nexport class PhotoService {\r\n  private subscriptionKey = googlesearch_api_key;\r\n  private paramService;\r\n  private cache = [];\r\n  private cache_keys = [];\r\n  private severe:boolean = false;\r\n\r\n  private samples = [\r\n    {\r\n      regex: /(tram|tramway)/gi,\r\n      urls: ['https://upload.wikimedia.org/wikipedia/commons/6/6e/Wuhan_Optics_Valley_Modern_Tram_%284%29.jpg',\r\n            'https://upload.wikimedia.org/wikipedia/commons/a/a0/Carris_Tram_route_15_Lisbon_12_2016_9828.jpg']\r\n    }, {\r\n      regex: /(cathedral|cattedral|basili[qc]|[ée]glise|chies[ae]|messa( |$)|messe( |$))/gi,\r\n      urls: ['https://upload.wikimedia.org/wikipedia/commons/8/88/St_Albans%2C_Cathedral_and_Abbey_Church_of_St_Alban_-_geograph.org.uk_-_1350217.jpg',\r\n            'https://upload.wikimedia.org/wikipedia/commons/e/eb/Basilica-di-San-Marco-Venice-20050524-029.jpg',\r\n            'https://upload.wikimedia.org/wikipedia/commons/0/02/Bourges-Cath%C3%A9drale_Saint-%C3%89tienne-5.jpg',\r\n            'https://upload.wikimedia.org/wikipedia/commons/5/58/Notre_Dame_I_%28REIMS-CATHEDRAL%29_%28904620963%29.jpg']\r\n    }, {\r\n      regex: /(^| )rer( |$)/gi,\r\n      urls: ['https://upload.wikimedia.org/wikipedia/commons/3/39/RER_E_train_in_Magenta_station.JPG']\r\n    }, {\r\n      regex: /(^| )(trains?|treno|ter)( |$)/gi,\r\n      urls: ['http://s0.geograph.org.uk/geophotos/03/05/04/3050435_09029b6c.jpg',\r\n            'https://upload.wikimedia.org/wikipedia/commons/0/00/Hogwarts_Express_at_Harry_Potter_Experience_at_Leavesden.jpg']\r\n    }, {\r\n      regex: /(^| )(metro|subway)( |$)/gi,\r\n      urls: ['https://upload.wikimedia.org/wikipedia/commons/d/df/Moscow_metro_D_2037_museum_car_panoramic.jpg',\r\n            'https://upload.wikimedia.org/wikipedia/commons/0/04/Subway_station_in_Moscow_2015.JPG']\r\n    }, {\r\n      regex: /(^| )(dentifric|toothpast)/gi,\r\n      urls: ['https://www.protegez-vous.ca/var/protegez_vous/storage/images/_aliases/social_network_image/mediatheque/illustrations-et-images/dentifrice/990970-1-fre-CA/dentifrice.jpg',\r\n            'http://dentalhealthgroup.ca/2014/wp-content/uploads/2015/06/dpc-toothpaste-1030x684.jpg']\r\n    }\r\n  ]\r\n\r\n  constructor(paramService: ParamService) {\r\n    this.paramService = paramService\r\n  }\r\n\r\n  public randPhoto(s, protege = true) {\r\n    if (protege) {\r\n      s = this.safeSearch(s)\r\n    }\r\n    if (!s) return Promise.resolve({ url: '' });\r\n    let c = this.getCache(s)\r\n    if (c !== null) {\r\n      console.log('returning cached photo : ', c)\r\n      return Promise.resolve(c);\r\n    }\r\n    if (s.substr(0, 4) == 'http') return Promise.resolve({url: s})\r\n\r\n    let options = {\r\n      url: `https://www.googleapis.com/customsearch/v1?searchType=image&q=${encodeURIComponent(s)}&cx=004323286901162026581:48ky0dcc9as&key=${this.subscriptionKey}`,\r\n      headers: {\r\n        'Ocp-Apim-Subscription-Key': this.subscriptionKey\r\n      }\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      request.get(options, (error, response, body) => {\r\n        if (error) reject(error);\r\n        else {\r\n          try {\r\n            let o = JSON.parse(body)\r\n            console.log('photo search got : ', o)\r\n            if (!o.items || !o.items.length) reject('invalid body in randPhoto result for ' + s);\r\n            else {\r\n              console.log('photo search ' + s + ' got ' + o.items.length + ' results')\r\n              let l = (this.severe) ? 4: o.items.length;\r\n              let rand_int: number = Math.round(Math.random() * l);\r\n              let rand_photo = o.items[rand_int];\r\n              let myPhoto = {\r\n                url: rand_photo.link,\r\n                width: rand_photo.image.width,\r\n                height: rand_photo.image.height\r\n              }\r\n              this.setCache(s, myPhoto);\r\n              resolve(myPhoto)\r\n            }\r\n          } catch (e) {\r\n            reject(e)\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  safeSearch(s) {\r\n    for (let el of this.paramService.smart_categories) {\r\n      if (el.photo) {\r\n        let res = el.regex.exec(s)\r\n        if (res && res.length) {\r\n          this.severe = false\r\n          if (el.photo == '$' && res.length > 2) {\r\n            this.severe = true;\r\n            let mot_cle = res[2].trim()\r\n            let url = this.findSample(mot_cle)\r\n            console.log('safesearch mot-cle = ', mot_cle, url)\r\n            if (url) return url\r\n            return mot_cle\r\n          } else if (el.photo == '*') {\r\n            return s\r\n          } else if (el.photo.substr(0,8) == '@google:') {\r\n            let nom = /\\@google\\:(.+)/.exec(el.photo)\r\n            console.log('GOOGLE', nom, s, el.photo)\r\n            if (nom && nom.length > 1) return `https://ssl.gstatic.com/calendar/images/eventillustrations/v1/img_${nom[1]}_1x.jpg`\r\n          } else if (el.photo != '$') {\r\n            return el.photo\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n\r\n  findSample(mot_cle) {\r\n    for (let el of this.samples) {\r\n      let res = mot_cle.match(el.regex)\r\n      if (res) {\r\n        let ind = Math.round(Math.random() * (el.urls.length - 1))\r\n        return el.urls[ind]\r\n      }\r\n    }\r\n  }\r\n\r\n  setCache(key, val) {\r\n    let n = this.cache_keys.indexOf(key)\r\n    if (n >= 0) this.cache[n] = val;\r\n    else {\r\n      this.cache_keys.push(key)\r\n      this.cache.push(val)\r\n    }\r\n  }\r\n\r\n  getCache(key) {\r\n    let n = this.cache_keys.indexOf(key)\r\n    if (n >= 0) return this.cache[n];\r\n    return null\r\n  }\r\n}\r\n\r\n// randPhoto('hummus').then(r => console.log(r)).catch(e => console.log('ERROR', e))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/photo.service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\n\nimport { TransactionService } from '../../services/transaction.service';\n\nimport moment from 'moment';\n\n/**\n * Generated class for the FjObservationsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-fj-observations',\n  templateUrl: 'fj-observations.html',\n})\nexport class FjObservationsPage {\n  public category: string;\n  public currency: string;\n  public month: string;\n  public pretty_month: string;\n  public comments: string;\n  public tr_list: Array<Object>;\n  public tr_ready:boolean = false;\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public viewCtrl: ViewController,\n              private trService: TransactionService) {\n\n    this.category = this.navParams.get('category')\n    this.currency = this.navParams.get('currency')\n    this.month = this.navParams.get('month')\n    this.comments = this.navParams.get('comments')\n    this.pretty_month = moment(this.month, 'YYYY-MM-DD').format('MMMM YYYY')\n\n    this.trService.getTrMonthCurrency(this.month, this.currency).then(data => {\n      this.tr_list = data.filter(tr => tr.category == this.category);\n      this.tr_ready = true\n    }).catch(err => {\n      console.log('ERROR while retrieving list of transactions', this.month, this.currency, err)\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('FjObservationsPage - Rendons gloire à notre Dieu, lui qui fit des merveilles !');\n  }\n\n  stopPropa(e) {\n    console.log('event', e)\n    e.stopPropagation()\n  }\n\n  close(e) {\n    if (e.srcElement.className == 'scroll-content'\n        || e.srcElement.localName == 'h3') this.navCtrl.pop()\n  }\n\n  submitComments() {\n    this.viewCtrl.dismiss(this.comments)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/fj-observations/fj-observations.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\nimport { firebaseConfig } from '../arcana/firebase_config'\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\n\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { HomePage } from '../pages/home/home';\nimport { Ajouter2Page } from '../pages/ajouter2/ajouter2';\nimport { BudgetPage } from '../pages/budget/budget';\nimport { TrDetailsPage } from '../pages/tr-details/tr-details';\nimport { ChartsPage } from '../pages/charts/charts';\nimport { ParamPage } from '../pages/param/param';\nimport { FeuillejaunePage } from '../pages/feuillejaune/feuillejaune';\nimport { FjgenPage } from '../pages/fjgen/fjgen';\nimport { FjObservationsPage } from '../pages/fj-observations/fj-observations';\nimport { FjDetailsPage } from '../pages/fj-details/fj-details';\nimport { FjmgmtPage } from '../pages/fjmgmt/fjmgmt';\nimport { FjactionsPage } from '../pages/fjactions/fjactions';\nimport { TabsPage } from '../pages/tabs/tabs';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { File } from '@ionic-native/file';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { FilePath } from '@ionic-native/file-path';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { AppVersion } from '@ionic-native/app-version';\n\nimport { TransactionService } from '../services/transaction.service';\nimport { ParamService } from '../services/param.service';\nimport { PdfService } from '../services/pdf.service';\nimport { FjService } from '../services/fj.service';\nimport { ExportService } from '../services/export.service';\nimport { CurrencyService } from '../services/currency.service';\nimport { PhotoService } from '../services/photo.service';\n\nimport { DatePicker } from '@ionic-native/date-picker';\nimport { BudgetLineComponent } from '../components/budget-line/budget-line';\nimport { FjLineComponent } from '../components/fj-line/fj-line';\nimport { FjcircleComponent } from '../components/fjcircle/fjcircle';\nimport { ProgressBarComponent } from '../components/progress-bar/progress-bar';\nimport { RadioSquareComponent } from '../components/radio-square/radio-square';\n\nimport { CurrencyPipe } from '../pipes/currency';\nimport { HistoFilter } from '../pipes/histoFilter'\nimport { GaugeComponent } from '../components/gauge/gauge';\nimport { FilterOptionsComponent } from '../components/filter-options/filter-options';\nimport { RevealDivComponent } from '../components/reveal-div/reveal-div';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    Ajouter2Page,\n    BudgetPage,\n    TrDetailsPage,\n    ChartsPage,\n    ParamPage,\n    FeuillejaunePage,\n    FjgenPage,\n    FjObservationsPage,\n    FjDetailsPage,\n    FjmgmtPage,\n    FjactionsPage,\n    TabsPage,\n    //LoginPage,\n    BudgetLineComponent,\n    FjLineComponent,\n    ProgressBarComponent,\n    RadioSquareComponent,\n    CurrencyPipe,\n    HistoFilter,\n    FjcircleComponent,\n    GaugeComponent,\n    FilterOptionsComponent,\n    RevealDivComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot(),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireAuthModule,\n    AngularFirestoreModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    Ajouter2Page,\n    BudgetPage,\n    TrDetailsPage,\n    ChartsPage,\n    ParamPage,\n    FeuillejaunePage,\n    FjgenPage,\n    FjObservationsPage,\n    FjDetailsPage,\n    FjmgmtPage,\n    FjactionsPage,\n    TabsPage,\n    //LoginPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    File,\n    SocialSharing,\n    FileChooser,\n    FilePath,\n    TransactionService,\n    ParamService,\n    PdfService,\n    FjService,\n    ExportService,\n    CurrencyService,\n    PhotoService,\n    DatePicker,\n    AndroidPermissions,\n    Diagnostic,\n    AppVersion,\n    //GooglePlus,\n    FjObservationsPage\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export const firebaseConfig = {\r\n  \"apiKey\": \"AIzaSyBVHkX3Bi9Wm9TZTmJyj6rrNfUSdoZRtN0\",\r\n  \"authDomain\": \"feuille-jaune.firebaseapp.com\",\r\n  \"databaseURL\": \"https://feuille-jaune.firebaseio.com\",\r\n  \"projectId\": \"feuille-jaune\",\r\n  \"storageBucket\": \"feuille-jaune.appspot.com\",\r\n  \"messagingSenderId\": \"896977390209\",\r\n  \"clientId\": \"881890318052-ivdijbrkhk5d2t8smikeuuaaqj0bk9b5.apps.googleusercontent.com\",\r\n  \"scopes\": [\r\n    \"profile\",\r\n    \"https://www.googleapis.com/auth/drive.appdata\"\r\n  ],\r\n  \"discoveryDocs\": [\"https://www.googleapis.com/discovery/v1/apis/drive/v2/rest\"],\r\n  'timestampsInSnapshots': true\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/arcana/firebase_config.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var map = {\n\t\"./af\": 347,\n\t\"./af.js\": 347,\n\t\"./ar\": 348,\n\t\"./ar-dz\": 349,\n\t\"./ar-dz.js\": 349,\n\t\"./ar-kw\": 350,\n\t\"./ar-kw.js\": 350,\n\t\"./ar-ly\": 351,\n\t\"./ar-ly.js\": 351,\n\t\"./ar-ma\": 352,\n\t\"./ar-ma.js\": 352,\n\t\"./ar-sa\": 353,\n\t\"./ar-sa.js\": 353,\n\t\"./ar-tn\": 354,\n\t\"./ar-tn.js\": 354,\n\t\"./ar.js\": 348,\n\t\"./az\": 355,\n\t\"./az.js\": 355,\n\t\"./be\": 356,\n\t\"./be.js\": 356,\n\t\"./bg\": 357,\n\t\"./bg.js\": 357,\n\t\"./bm\": 358,\n\t\"./bm.js\": 358,\n\t\"./bn\": 359,\n\t\"./bn.js\": 359,\n\t\"./bo\": 360,\n\t\"./bo.js\": 360,\n\t\"./br\": 361,\n\t\"./br.js\": 361,\n\t\"./bs\": 362,\n\t\"./bs.js\": 362,\n\t\"./ca\": 363,\n\t\"./ca.js\": 363,\n\t\"./cs\": 364,\n\t\"./cs.js\": 364,\n\t\"./cv\": 365,\n\t\"./cv.js\": 365,\n\t\"./cy\": 366,\n\t\"./cy.js\": 366,\n\t\"./da\": 367,\n\t\"./da.js\": 367,\n\t\"./de\": 368,\n\t\"./de-at\": 369,\n\t\"./de-at.js\": 369,\n\t\"./de-ch\": 370,\n\t\"./de-ch.js\": 370,\n\t\"./de.js\": 368,\n\t\"./dv\": 371,\n\t\"./dv.js\": 371,\n\t\"./el\": 372,\n\t\"./el.js\": 372,\n\t\"./en-au\": 373,\n\t\"./en-au.js\": 373,\n\t\"./en-ca\": 374,\n\t\"./en-ca.js\": 374,\n\t\"./en-gb\": 375,\n\t\"./en-gb.js\": 375,\n\t\"./en-ie\": 376,\n\t\"./en-ie.js\": 376,\n\t\"./en-il\": 377,\n\t\"./en-il.js\": 377,\n\t\"./en-nz\": 378,\n\t\"./en-nz.js\": 378,\n\t\"./eo\": 379,\n\t\"./eo.js\": 379,\n\t\"./es\": 380,\n\t\"./es-do\": 381,\n\t\"./es-do.js\": 381,\n\t\"./es-us\": 382,\n\t\"./es-us.js\": 382,\n\t\"./es.js\": 380,\n\t\"./et\": 383,\n\t\"./et.js\": 383,\n\t\"./eu\": 384,\n\t\"./eu.js\": 384,\n\t\"./fa\": 385,\n\t\"./fa.js\": 385,\n\t\"./fi\": 386,\n\t\"./fi.js\": 386,\n\t\"./fo\": 387,\n\t\"./fo.js\": 387,\n\t\"./fr\": 388,\n\t\"./fr-ca\": 389,\n\t\"./fr-ca.js\": 389,\n\t\"./fr-ch\": 390,\n\t\"./fr-ch.js\": 390,\n\t\"./fr.js\": 388,\n\t\"./fy\": 391,\n\t\"./fy.js\": 391,\n\t\"./gd\": 392,\n\t\"./gd.js\": 392,\n\t\"./gl\": 393,\n\t\"./gl.js\": 393,\n\t\"./gom-latn\": 394,\n\t\"./gom-latn.js\": 394,\n\t\"./gu\": 395,\n\t\"./gu.js\": 395,\n\t\"./he\": 396,\n\t\"./he.js\": 396,\n\t\"./hi\": 397,\n\t\"./hi.js\": 397,\n\t\"./hr\": 398,\n\t\"./hr.js\": 398,\n\t\"./hu\": 399,\n\t\"./hu.js\": 399,\n\t\"./hy-am\": 400,\n\t\"./hy-am.js\": 400,\n\t\"./id\": 401,\n\t\"./id.js\": 401,\n\t\"./is\": 402,\n\t\"./is.js\": 402,\n\t\"./it\": 403,\n\t\"./it.js\": 403,\n\t\"./ja\": 404,\n\t\"./ja.js\": 404,\n\t\"./jv\": 405,\n\t\"./jv.js\": 405,\n\t\"./ka\": 406,\n\t\"./ka.js\": 406,\n\t\"./kk\": 407,\n\t\"./kk.js\": 407,\n\t\"./km\": 408,\n\t\"./km.js\": 408,\n\t\"./kn\": 409,\n\t\"./kn.js\": 409,\n\t\"./ko\": 410,\n\t\"./ko.js\": 410,\n\t\"./ky\": 411,\n\t\"./ky.js\": 411,\n\t\"./lb\": 412,\n\t\"./lb.js\": 412,\n\t\"./lo\": 413,\n\t\"./lo.js\": 413,\n\t\"./lt\": 414,\n\t\"./lt.js\": 414,\n\t\"./lv\": 415,\n\t\"./lv.js\": 415,\n\t\"./me\": 416,\n\t\"./me.js\": 416,\n\t\"./mi\": 417,\n\t\"./mi.js\": 417,\n\t\"./mk\": 418,\n\t\"./mk.js\": 418,\n\t\"./ml\": 419,\n\t\"./ml.js\": 419,\n\t\"./mn\": 420,\n\t\"./mn.js\": 420,\n\t\"./mr\": 421,\n\t\"./mr.js\": 421,\n\t\"./ms\": 422,\n\t\"./ms-my\": 423,\n\t\"./ms-my.js\": 423,\n\t\"./ms.js\": 422,\n\t\"./mt\": 424,\n\t\"./mt.js\": 424,\n\t\"./my\": 425,\n\t\"./my.js\": 425,\n\t\"./nb\": 426,\n\t\"./nb.js\": 426,\n\t\"./ne\": 427,\n\t\"./ne.js\": 427,\n\t\"./nl\": 428,\n\t\"./nl-be\": 429,\n\t\"./nl-be.js\": 429,\n\t\"./nl.js\": 428,\n\t\"./nn\": 430,\n\t\"./nn.js\": 430,\n\t\"./pa-in\": 431,\n\t\"./pa-in.js\": 431,\n\t\"./pl\": 432,\n\t\"./pl.js\": 432,\n\t\"./pt\": 433,\n\t\"./pt-br\": 434,\n\t\"./pt-br.js\": 434,\n\t\"./pt.js\": 433,\n\t\"./ro\": 435,\n\t\"./ro.js\": 435,\n\t\"./ru\": 436,\n\t\"./ru.js\": 436,\n\t\"./sd\": 437,\n\t\"./sd.js\": 437,\n\t\"./se\": 438,\n\t\"./se.js\": 438,\n\t\"./si\": 439,\n\t\"./si.js\": 439,\n\t\"./sk\": 440,\n\t\"./sk.js\": 440,\n\t\"./sl\": 441,\n\t\"./sl.js\": 441,\n\t\"./sq\": 442,\n\t\"./sq.js\": 442,\n\t\"./sr\": 443,\n\t\"./sr-cyrl\": 444,\n\t\"./sr-cyrl.js\": 444,\n\t\"./sr.js\": 443,\n\t\"./ss\": 445,\n\t\"./ss.js\": 445,\n\t\"./sv\": 446,\n\t\"./sv.js\": 446,\n\t\"./sw\": 447,\n\t\"./sw.js\": 447,\n\t\"./ta\": 448,\n\t\"./ta.js\": 448,\n\t\"./te\": 449,\n\t\"./te.js\": 449,\n\t\"./tet\": 450,\n\t\"./tet.js\": 450,\n\t\"./tg\": 451,\n\t\"./tg.js\": 451,\n\t\"./th\": 452,\n\t\"./th.js\": 452,\n\t\"./tl-ph\": 453,\n\t\"./tl-ph.js\": 453,\n\t\"./tlh\": 454,\n\t\"./tlh.js\": 454,\n\t\"./tr\": 455,\n\t\"./tr.js\": 455,\n\t\"./tzl\": 456,\n\t\"./tzl.js\": 456,\n\t\"./tzm\": 457,\n\t\"./tzm-latn\": 458,\n\t\"./tzm-latn.js\": 458,\n\t\"./tzm.js\": 457,\n\t\"./ug-cn\": 459,\n\t\"./ug-cn.js\": 459,\n\t\"./uk\": 460,\n\t\"./uk.js\": 460,\n\t\"./ur\": 461,\n\t\"./ur.js\": 461,\n\t\"./uz\": 462,\n\t\"./uz-latn\": 463,\n\t\"./uz-latn.js\": 463,\n\t\"./uz.js\": 462,\n\t\"./vi\": 464,\n\t\"./vi.js\": 464,\n\t\"./x-pseudo\": 465,\n\t\"./x-pseudo.js\": 465,\n\t\"./yo\": 466,\n\t\"./yo.js\": 466,\n\t\"./zh-cn\": 467,\n\t\"./zh-cn.js\": 467,\n\t\"./zh-hk\": 468,\n\t\"./zh-hk.js\": 468,\n\t\"./zh-tw\": 469,\n\t\"./zh-tw.js\": 469\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 685;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 685\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ParamService } from './param.service';\r\nimport client from 'node-rest-client-promise';\r\nimport { currency_api_key } from '../arcana/apis_config';\r\n\r\n@Injectable()\r\nexport class CurrencyService {\r\n  public APIKEY: string = currency_api_key\r\n  public url = `http://data.fixer.io/api/latest?access_key=${this.APIKEY}&base=EUR&symbols=@sym`\r\n  public conversions;\r\n\r\n  constructor(private paramService: ParamService, private storage: Storage) {\r\n    let symbols = paramService.currencies.map(c => c.id).join(',')\r\n    this.url = this.url.replace('@sym', symbols)\r\n\r\n    this.init().catch(e => {\r\n      console.log('ERROR in currency.service : ', e)\r\n    })\r\n  }\r\n\r\n  public async init() {\r\n    if (this.conversions) return 1;\r\n    let http_result = null;\r\n    try {\r\n      http_result = await client.Client({}).getPromise(this.url)\r\n    } catch(err) {\r\n      console.log('WARNING : Failed to contact currency API, getting local currency conversion rates', this.url)\r\n      this.conversions = await this.getLocalConversions()\r\n      return 2\r\n    }\r\n\r\n    if (http_result && http_result.data.success) {\r\n      this.conversions = http_result.data.rates\r\n      this.storage.set('currency_conversion', this.conversions)\r\n      return 1\r\n    } else {\r\n      console.log('WARNING : failed to contact currency API, getting local currency conversion rates', this.url)\r\n      this.conversions = await this.getLocalConversions()\r\n      return 3\r\n    }\r\n  }\r\n\r\n  // récupère des taux de change locaux si l'API est injoignable\r\n  async getLocalConversions() {\r\n    this.conversions = await this.storage.get('currency_conversion')\r\n    if (this.conversions === null) {\r\n      this.conversions = {}\r\n      for (let c of this.paramService.currencies) {\r\n        this.conversions[c.id] = c.default_rate_eur\r\n      }\r\n    }\r\n    return this.conversions\r\n  }\r\n\r\n  // e.g. : convert(123.45, 'USD', 'EUR') => convertit 123.45 USD en EUR\r\n  public convert(montant, from, to = null) {\r\n    if (typeof montant == 'string') montant = parseFloat(montant)\r\n    if (montant === 0) return montant;\r\n    if (to === null) to = this.paramService.currency;\r\n    if (from == to) return montant;\r\n    if (!this.conversions) throw {\r\n      'errnum': 'NOT_INITIALIZED',\r\n      'fun': 'CurrencyService.convert',\r\n      'descr': 'The conversion has not been initialized (works with a REST API)'\r\n    }\r\n    if (!to || !from) {\r\n      console.log(`WARNING : impossible de convertir ${montant} de ${from} à ${to}. On renvoie le montant tel quel`)\r\n      return montant;\r\n    }\r\n\r\n    if (!montant || !this.conversions[to] || !this.conversions[from]) {\r\n      console.log('CONVERSION:',this.conversions)\r\n      throw {\r\n        'errnum': ['INVALID_PARAM', 'INVALID_INTERNAL_VAR'],\r\n        'fun': 'CurrencyService.convert',\r\n        'descr': 'One of these is invalid : this.conversions='\r\n          + JSON.stringify(this.conversions)\r\n          + ' OR montant=' + JSON.stringify(montant)\r\n          + ' OR from=' + JSON.stringify(from)\r\n          + ' OR to=' + JSON.stringify(to)\r\n      }\r\n    }\r\n\r\n    let base_montant = montant / this.conversions[from]\r\n    return Math.round(base_montant * this.conversions[to] * 100) / 100\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/currency.service.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// buffer (ignored)\n// module id = 857\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 858\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 912\n// module chunks = 0"],"sourceRoot":""}