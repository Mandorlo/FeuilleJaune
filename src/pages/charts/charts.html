<ion-header>

  <ion-navbar color="primary">
    <ion-title>Budget</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-card (click)="goToHistoPage()">
    <ion-card-header>
      Voir tout l'historique<i style="float:right" class="fa fa-arrow-right"></i>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      Mois courant
    </ion-card-header>
    <ion-card-content>
      {{depenses_mois_courant}} / {{moyenne_depenses_mois}} <i class="fa fa-info" tooltip="État des dépenses du mois courant / dépenses moyennes sur les 12 derniers mois" positionV="bottom"></i>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      Dépenses par mois
    </ion-card-header>
    <ion-card-content>
      <canvas #barCanvas></canvas>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      Répartition des dépenses du mois
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label>Mois</ion-label>
        <ion-select style="max-width: 100% !important;" [(ngModel)]="repartition_depenses_mois" (ionChange)="this.genDataPie(this.repartition_depenses_mois, 1)">
          <ion-option *ngFor="let m of last_months" [value]="m.date">{{m.label}}</ion-option>
        </ion-select>
      </ion-item>
      <canvas #doughnutCanvas></canvas>
      <div class="total_pie_month">TOTAL : {{repartition_depenses_mois_total}} {{paramService.symbolCurrency()}}</div>
    </ion-card-content>
  </ion-card>

  <!-- <ion-card>
    <ion-card-header>
      Line Chart
    </ion-card-header>
    <ion-card-content>
      <canvas #lineCanvas></canvas>
    </ion-card-content>
  </ion-card> -->
</ion-content>
